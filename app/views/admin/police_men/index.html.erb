<div style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;" class="chartjs-size-monitor">
  <div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
    <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0">

    </div>
  </div>
  <div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
    <div style="position:absolute;width:200%;height:200%;left:0; top:0">

    </div>
  </div>
</div>
<div id="content_box">
  <div class="container mt-3">
    <div>
      <h2 class="float-left">Policías</h2>
      <%= button_to "Crear Policía", new_admin_police_man_path, :method => :get, :class => "btn btn-primary text-white mb-2 float-right" %>
    </div>
    <input class="form-control" id="myInput" type="text" placeholder="Buscar Policía..">
    <br>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Nombre</th>
        <th>RUT</th>
        <th>Número placa</th>
        <th>Teléfono</th>
        <th style="text-align: center; width: 18%">Acciones</th>
      </tr>
      </thead>
      <tbody id="myTable">
      <% @police_men.each do |police| %>
        <tr>
          <td><%= police.name %></td>
          <td><%= police.rut %></td>
          <td><%= police.badge %></td>
          <% if police.phone_number.present? %>
            <td><%= police.phone_number %></td>
          <% else %>
            <td> - </td>
          <% end  %>
          <td><%= link_to 'Editar', edit_admin_police_man_path(police) %> <%= link_to 'Eliminar', admin_police_man_path(police), method: :delete, data: { confirm: "¿Estás seguro que quieres borrar este policía?" }, :class => "float-right" %></td>
        </tr>

      <% end %>
      </tbody>
    </table>

  </div>
  <script>
      $(document).ready(function(){
          $("#myInput").on("keyup", function() {
              var value = $(this).val().toLowerCase();
              $("#myTable tr").filter(function() {
                  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
              });
          });
      });
  </script>
</div>