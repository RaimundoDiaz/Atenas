
<span>
  <div id="content_box_center">
    <h1>Ingreso de procedimiento</h1>
    <div id="form">
      <%= form_with model: @procedure, class: "form-horizontal" do |form|%>
        <div class="d-flex justify-content-between">
          <div class="form-group row">
            <%= form.label :date, 'Fecha: ', class: "col-sm-2 col-form-label"%>
            <div class="col-sm-10">
              <%= form.date_field :date , class: "form-control"%>
            </div>
          </div>

          <div class="form-group row">
            <%= form.label :time, 'Hora: ', class: "col-sm-2 col-form-label"%>
            <div class="col-sm-10">
              <%= form.time_field :time, class: "form-control" %>
            </div>
          </div>
        </div>

        <div>
          <div class="form-group row">
            <%= form.label :address, 'Direccion:' , class: "col-sm-2 col-form-label"%>
            <div class="col-sm-10">
              <%= form.text_field :address,  class: "form-control"  %>
            </div>
          </div>


          <div class="d-flex justify-content-between">
            <% cities_array = @regiones.map { |city| [city[:nombre], city[:codigo]] } %>
            <div class="form-group">
              <%= form.label :region, 'Region:', class: "col-lg-2 control-label" %>
              <div class="col-lg-10">
               <%= form.select :region, options_for_select(cities_array),{},{class: "form-control"} %>
              </div>
            </div>

            <div class="form-group">
              <%= form.label :comune, 'Comuna:', class: "col-form-label" %>
              <%= form.select :comune, [],{},{class: "form-control"} %>
            </div>
          </div>

          <div id="crimes">

            <% crimes = [nil,
                         "acoso",
                         "homicidio",
                         "conduccion en estado de ebriedad",
                         "Robo a mano armada",
                         "femicidio",
                         "violacion",
                         "pisar las lineas de la vereda"].map{|crime| [crime]} %>
            <%= form.label :preponderant_crime, 'Delito prepopnderante:' %>
            <%= form.select( :preponderant_crime, options_for_select(crimes)) %>


            <%= fields_for "procedure[crimes]" do |crimes_fields| %>
              <div id="new_crime">
                <%= crimes_fields.label "", 'Delito:' %>
                <%= crimes_fields.select "" , options_for_select(crimes), name: "procedure[crimes][]" %>
              </div>
            <% end %>
          </div>

          <button id="add_crime_btn" class="btn btn-primary"> Agregar delito </button>
        </div>

        <div>
          <%= form.submit "Enviar", class: "btn btn-primary" %>
        </div>
      </div>
    <% end %>
  </div>

</span>

