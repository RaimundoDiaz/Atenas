
<span>
  <div id="content_box">
    <h1 class="d-flex justify-content-center">Ingreso de procedimiento</h1>
    <div class="pr-5 pl-5 mt-5" id="form">
      <%= form_with model: @procedure do |form|%>

        <div id="datetime" class="d-flex justify-content-between">
          <div class="form-inline">
            <%= form.label :date, 'Fecha: ', class: "mr-2 form-label"%>
            <%= form.date_field :date , class: "form-control"%>
          </div>

          <div class="form-inline">
            <%= form.label :time, 'Hora: ', class: "mr-2 form-label"%>
            <%= form.time_field :time, class: "form-control" %>
          </div>
        </div>

        <div id="classification" class="d-flex justify-content-between">
          <% classifications = ["Flagrancia", "ODP", "Ambas"].map { |classification| [classification] } %>
          <div class="form-inline">
            <%= form.label :classification, 'Clasificacion:' , class: "mr-2 form-label"%>
            <%= form.select :classification, options_for_select(classifications),{},{class: "form-control flex-grow"} %>
          </div>
        </div>

        <div id="address">
          <div class="form-inline ">
            <%= form.label :address, 'Direccion:' , class: "mr-2 form-label"%>
            <%= form.text_field :address,  class: "form-control flex-grow-1"  %>
          </div>


          <div class="d-flex justify-content-between">
            <% cities_array = @regiones.map { |city| [city[:nombre], city[:codigo]] } %>
            <div class="form-inline">
              <%= form.label :region, 'Region:', class: "mr-2 form-label" %>
              <%= form.select :region, options_for_select(cities_array),{},{class: "form-control"} %>
            </div>

            <div class="form-inline">
              <%= form.label :comune, 'Comuna:', class: "mr-2 form-label" %>
              <%= form.select :comune, [],{},{class: "form-control"} %>
            </div>
          </div>
        </div>

        <div id="crimes">
          <% crimes = [nil,
                       "acoso",
                       "homicidio",
                       "conduccion en estado de ebriedad",
                       "Robo a mano armada",
                       "femicidio",
                       "violacion",
                       "pisar las lineas de la vereda"].map{|crime| [crime]} %>
          <div class="form-inline d-flex justify-content-between">
            <%= form.label :preponderant_crime, 'Delito prepopnderante:', class: "form-label" %>
            <%= form.select :preponderant_crime, options_for_select(crimes),{},{class: "form-control flex-grow-1"} %>
          </div>
          <div id = "new_crime" class="form-inline d-flex justify-content-between">
            <%= fields_for "procedure[crimes]" do |crimes_fields| %>
              <%= crimes_fields.label "", 'Delito:', class: "form-label" %>
              <%= crimes_fields.select "" , options_for_select(crimes), {name: "procedure[crimes][]"},{class: "form-control flex-grow-1"}  %>
            <% end %>
            <button type="button" class="btn btn-danger delete_crime"> Eliminar delito </button>
          </div>
        </div>

        <div id="crime_btn_div"><button type="button" id="add_crime_btn" class="btn btn-primary"> Agregar delito </button></div>

        <div id="deceased">
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="customSwitch1">
            <label class="custom-control-label" for="customSwitch1">Involucra fallecidos</label>
          </div>
        </div>

        <div id="marks" class="form-group">
          <%= form.label :tag_ids, 'Marcas:', class: "form-label" %>
          <%= form.select :tag_ids, options_for_select(Tag.order(:name).map { |tag| [tag[:name]] }, params[:tag_ids]),{},{class: "form-control",multiple: true} %>
        </div>

        <div>
          <%= form.submit "Enviar", class: "btn btn-primary" %>
        </div>
      </div>
    <% end %>
  </div>

</span>

