Started GET "/" for ::1 at 2020-09-26 18:55:23 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/martinmorenocerda/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/martinmorenocerda/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.4ms | Allocations: 409)
Completed 200 OK in 24ms (Views: 15.1ms | ActiveRecord: 0.0ms | Allocations: 2355)


  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (37.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (50.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (111.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (50.8ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVictims (20200926220528)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "victims" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_185242c6e2"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-26 23:28:22.044235"], ["updated_at", "2020-09-26 23:28:22.044235"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (27.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (26.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (51.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (67.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVictims (20200926221326)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "victims" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_185242c6e2"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_victims_on_procedure_id" ON "victims"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221326"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateWitnesses (20200926221923)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "witnesses" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_62211bda25"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_witnesses_on_procedure_id" ON "witnesses"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221923"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAccuseds (20200926222236)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "accuseds" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "alias" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926222236"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAccusedInProcedures (20200926223011)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "accused_in_procedures" ("id" bigserial primary key, "procedure_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_dbfdb0c90f"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
, CONSTRAINT "fk_rails_a62ad9b4d6"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_procedure_id" ON "accused_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_accused_id" ON "accused_in_procedures"  ("accused_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926223011"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_2cbe8eda11"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_accused_id" ON "alias_accuseds"  ("accused_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "crime_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_c4f9045282"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_accused_id" ON "crime_in_accuseds"  ("accused_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-26 23:28:44.949151"], ["updated_at", "2020-09-26 23:28:44.949151"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (42.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (28.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (117.1ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (48.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accused_in_procedures" CASCADE[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "accused_in_procedures" ("id" bigserial primary key, "procedure_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_accused_id" ON "accused_in_procedures"  ("accused_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_procedure_id" ON "accused_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accuseds" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "accuseds" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "alias" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_accused_id" ON "alias_accuseds"  ("accused_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "crime_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (47.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_accused_id" ON "crime_in_accuseds"  ("accused_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "victims" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "victims" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_victims_on_procedure_id" ON "victims"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "witnesses" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "witnesses" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_witnesses_on_procedure_id" ON "witnesses"  ("procedure_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accused_in_procedures" ADD CONSTRAINT "fk_rails_a62ad9b4d6"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accused_in_procedures" ADD CONSTRAINT "fk_rails_dbfdb0c90f"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_2cbe8eda11"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_c4f9045282"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "victims" ADD CONSTRAINT "fk_rails_185242c6e2"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "witnesses" ADD CONSTRAINT "fk_rails_62211bda25"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200926230928)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926230432),
(20200926230841);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:19:09.919797"], ["updated_at", "2020-09-27 00:19:09.919797"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "6c54ed1fea25e60b7729a2b8b1d7878dbc471e17"], ["created_at", "2020-09-27 00:19:09.934424"], ["updated_at", "2020-09-27 00:19:09.934424"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accused_in_procedures" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "accused_in_procedures" ("id" bigserial primary key, "procedure_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_accused_id" ON "accused_in_procedures"  ("accused_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_accused_in_procedures_on_procedure_id" ON "accused_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accuseds" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "accuseds" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "alias" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_accused_id" ON "alias_accuseds"  ("accused_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "crime_id" bigint NOT NULL, "accused_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_accused_id" ON "crime_in_accuseds"  ("accused_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "victims" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "victims" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "rut" character varying, "birthday" date, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_victims_on_procedure_id" ON "victims"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "witnesses" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "witnesses" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_witnesses_on_procedure_id" ON "witnesses"  ("procedure_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "accused_in_procedures" ADD CONSTRAINT "fk_rails_a62ad9b4d6"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accused_in_procedures" ADD CONSTRAINT "fk_rails_dbfdb0c90f"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_2cbe8eda11"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_c4f9045282"
FOREIGN KEY ("accused_id")
  REFERENCES "accuseds" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "victims" ADD CONSTRAINT "fk_rails_185242c6e2"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "witnesses" ADD CONSTRAINT "fk_rails_62211bda25"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200926230928)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926230432),
(20200926230841);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:19:10.069690"], ["updated_at", "2020-09-27 00:19:10.069690"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-27 00:19:10.073550"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "6c54ed1fea25e60b7729a2b8b1d7878dbc471e17"], ["created_at", "2020-09-27 00:19:10.077293"], ["updated_at", "2020-09-27 00:19:10.077293"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePeople (20200927001435)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001435"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (37.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (32.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:22:24.540151"], ["updated_at", "2020-09-27 00:22:24.540151"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (27.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (24.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (59.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:22:49.915139"], ["updated_at", "2020-09-27 00:22:49.915139"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-09-26 21:23:14 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/martinmorenocerda/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/martinmorenocerda/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.0ms | Allocations: 295)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 1638)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (41.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (30.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (115.7ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:36:35.519687"], ["updated_at", "2020-09-27 00:36:35.519687"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "29a3b5b2e3e935ddea6a1762e840f96a6230c793"], ["created_at", "2020-09-27 00:36:35.525867"], ["updated_at", "2020-09-27 00:36:35.525867"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:36:35.634772"], ["updated_at", "2020-09-27 00:36:35.634772"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-27 00:36:35.639115"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "29a3b5b2e3e935ddea6a1762e840f96a6230c793"], ["created_at", "2020-09-27 00:36:35.643110"], ["updated_at", "2020-09-27 00:36:35.643110"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (36.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (29.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (55.9ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (52.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-27 00:36:58.868687"], ["updated_at", "2020-09-27 00:36:58.868687"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-27 00:42:23.314980"], ["updated_at", "2020-09-27 00:42:23.314980"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-27 00:42:23.319629"], ["updated_at", "2020-09-27 00:42:23.319629"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (7.4ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "prosecutor_in_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["prosecutor_in_charge_id", 2], ["created_at", "2020-09-27 00:42:23.339734"], ["updated_at", "2020-09-27 00:42:23.339734"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.6ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-27 00:42:23.362122"], ["updated_at", "2020-09-27 00:42:23.362122"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (1.7ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-27 00:42:23.376023"], ["updated_at", "2020-09-27 00:42:23.376023"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProcedure Load (1.0ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPersonInProcedure Load (0.4ms)[0m  [1m[34mSELECT "person_in_procedures".* FROM "person_in_procedures" ORDER BY "person_in_procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPersonInProcedure Load (0.3ms)[0m  [1m[34mSELECT "person_in_procedures".* FROM "person_in_procedures" ORDER BY "person_in_procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.3ms)[0m  [1m[34mSELECT "people".* FROM "people" WHERE "people"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPersonInProcedure Load (0.3ms)[0m  [1m[34mSELECT "person_in_procedures".* FROM "person_in_procedures" ORDER BY "person_in_procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPersonInProcedure Load (0.3ms)[0m  [1m[34mSELECT "person_in_procedures".* FROM "person_in_procedures" ORDER BY "person_in_procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.8ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.3ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.3ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.2ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPerson Load (0.7ms)[0m  [1m[34mSELECT "people".* FROM "people" INNER JOIN "person_in_procedures" ON "people"."id" = "person_in_procedures"."person_id" WHERE "person_in_procedures"."procedure_id" = $1 LIMIT $2[0m  [["procedure_id", 1], ["LIMIT", 11]]
  [1m[36mPerson Load (0.2ms)[0m  [1m[34mSELECT "people".* FROM "people" ORDER BY "people"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" INNER JOIN "person_in_procedures" ON "procedures"."id" = "person_in_procedures"."procedure_id" WHERE "person_in_procedures"."person_id" = $1 LIMIT $2[0m  [["person_id", 1], ["LIMIT", 11]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (20.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (47.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (41.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (244.5ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (101.0ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (90.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (42.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (99.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (101.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (17.3ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926000000),
(20200926000001),
(20200926000002),
(20200926000003),
(20200926000004),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:39:59.127708"], ["updated_at", "2020-09-28 21:39:59.127708"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "35db312820f781d4de6fc16fcfc4f7bb724ab5e5"], ["created_at", "2020-09-28 21:39:59.151672"], ["updated_at", "2020-09-28 21:39:59.151672"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (16.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200926000000),
(20200926000001),
(20200926000002),
(20200926000003),
(20200926000004),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:39:59.353826"], ["updated_at", "2020-09-28 21:39:59.353826"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-28 21:39:59.358959"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "35db312820f781d4de6fc16fcfc4f7bb724ab5e5"], ["created_at", "2020-09-28 21:39:59.364434"], ["updated_at", "2020-09-28 21:39:59.364434"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (51.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (51.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (105.4ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (98.8ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (43.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (41.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (101.9ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (102.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (23.5ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:42:46.201894"], ["updated_at", "2020-09-28 21:42:46.201894"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "35db312820f781d4de6fc16fcfc4f7bb724ab5e5"], ["created_at", "2020-09-28 21:42:46.208721"], ["updated_at", "2020-09-28 21:42:46.208721"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (16.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "id_prosecution" integer, "id_police_unit" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:42:46.406275"], ["updated_at", "2020-09-28 21:42:46.406275"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-28 21:42:46.411423"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "35db312820f781d4de6fc16fcfc4f7bb724ab5e5"], ["created_at", "2020-09-28 21:42:46.416736"], ["updated_at", "2020-09-28 21:42:46.416736"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (54.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (47.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (90.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (98.5ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (16.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (15.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:44:02.371463"], ["updated_at", "2020-09-28 21:44:02.371463"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (47.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (24.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (103.4ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (102.7ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:44:19.363357"], ["updated_at", "2020-09-28 21:44:19.363357"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (49.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (40.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (125.1ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (103.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (16.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (16.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (17.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (17.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:53:50.238756"], ["updated_at", "2020-09-28 21:53:50.238756"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5351809d47ed13f09261c27f0729bbf803ba3038"], ["created_at", "2020-09-28 21:53:50.262912"], ["updated_at", "2020-09-28 21:53:50.262912"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:53:50.519114"], ["updated_at", "2020-09-28 21:53:50.519114"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-28 21:53:50.524522"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5351809d47ed13f09261c27f0729bbf803ba3038"], ["created_at", "2020-09-28 21:53:50.529410"], ["updated_at", "2020-09-28 21:53:50.529410"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (74.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (47.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (99.5ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (102.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (16.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 21:58:05.360339"], ["updated_at", "2020-09-28 21:58:05.360339"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:03:09.491144"], ["updated_at", "2020-09-28 22:03:09.491144"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:06:04.290432"], ["updated_at", "2020-09-28 22:06:04.290432"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (16.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (48.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (39.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (100.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (97.5ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.6ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (16.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (17.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (16.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (16.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 22:07:14.350116"], ["updated_at", "2020-09-28 22:07:14.350116"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:07:41.687603"], ["updated_at", "2020-09-28 22:07:41.687603"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:07:41.692164"], ["updated_at", "2020-09-28 22:07:41.692164"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:08:31.987652"], ["updated_at", "2020-09-28 22:08:31.987652"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:08:31.991932"], ["updated_at", "2020-09-28 22:08:31.991932"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:11:29.349537"], ["updated_at", "2020-09-28 22:11:29.349537"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:11:29.365853"], ["updated_at", "2020-09-28 22:11:29.365853"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:11:55.800552"], ["updated_at", "2020-09-28 22:11:55.800552"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:11:55.815359"], ["updated_at", "2020-09-28 22:11:55.815359"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:11:55.827261"], ["updated_at", "2020-09-28 22:11:55.827261"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (20.2ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-28 22:11:55.841969"], ["updated_at", "2020-09-28 22:11:55.841969"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:13:59.180934"], ["updated_at", "2020-09-28 22:13:59.180934"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:13:59.185220"], ["updated_at", "2020-09-28 22:13:59.185220"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (13.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:13:59.194917"], ["updated_at", "2020-09-28 22:13:59.194917"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-28 22:13:59.221516"], ["updated_at", "2020-09-28 22:13:59.221516"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:17:25.626619"], ["updated_at", "2020-09-28 22:17:25.626619"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:17:25.630925"], ["updated_at", "2020-09-28 22:17:25.630925"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:17:25.641662"], ["updated_at", "2020-09-28 22:17:25.641662"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 3], ["created_at", "2020-09-28 22:17:25.668148"], ["updated_at", "2020-09-28 22:17:25.668148"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (16.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:17:36.537211"], ["updated_at", "2020-09-28 22:17:36.537211"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:17:36.558128"], ["updated_at", "2020-09-28 22:17:36.558128"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:17:36.569392"], ["updated_at", "2020-09-28 22:17:36.569392"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 4], ["created_at", "2020-09-28 22:17:36.582708"], ["updated_at", "2020-09-28 22:17:36.582708"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.9ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-28 22:17:36.632439"], ["updated_at", "2020-09-28 22:17:36.632439"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (1.0ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("id", "person_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 100], ["person_id", 1], ["role", 1], ["created_at", "2020-09-28 22:17:36.663075"], ["updated_at", "2020-09-28 22:17:36.663075"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:19:22.637804"], ["updated_at", "2020-09-28 22:19:22.637804"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:19:22.655911"], ["updated_at", "2020-09-28 22:19:22.655911"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:19:22.666400"], ["updated_at", "2020-09-28 22:19:22.666400"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 5], ["created_at", "2020-09-28 22:19:22.679180"], ["updated_at", "2020-09-28 22:19:22.679180"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-28 22:19:22.730625"], ["updated_at", "2020-09-28 22:19:22.730625"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("id", "person_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 100], ["person_id", 2], ["role", 1], ["created_at", "2020-09-28 22:19:22.761016"], ["updated_at", "2020-09-28 22:19:22.761016"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (50.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (41.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (102.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (102.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_06644f136c"
FOREIGN KEY ("prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecution_in_charge_id" ON "procedures"  ("prosecution_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 22:20:09.976735"], ["updated_at", "2020-09-28 22:20:09.976735"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:20:14.736499"], ["updated_at", "2020-09-28 22:20:14.736499"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:20:14.755496"], ["updated_at", "2020-09-28 22:20:14.755496"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:20:14.766270"], ["updated_at", "2020-09-28 22:20:14.766270"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (1.2ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-28 22:20:14.779343"], ["updated_at", "2020-09-28 22:20:14.779343"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.5ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-28 22:20:14.829780"], ["updated_at", "2020-09-28 22:20:14.829780"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (1.3ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("id", "person_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 100], ["person_id", 1], ["role", 1], ["created_at", "2020-09-28 22:20:14.859888"], ["updated_at", "2020-09-28 22:20:14.859888"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (16.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:21:07.080279"], ["updated_at", "2020-09-28 22:21:07.080279"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:21:24.855526"], ["updated_at", "2020-09-28 22:21:24.855526"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.8ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-28 22:21:31.307931"], ["updated_at", "2020-09-28 22:21:31.307931"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProcedure Load (0.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (50.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (24.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (97.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (98.2ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "user_id" bigint, "local_prosecution_id" bigint, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3bdefac50f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_user_id" ON "procedures"  ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (16.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-28 22:25:16.758503"], ["updated_at", "2020-09-28 22:25:16.758503"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:25:20.604000"], ["updated_at", "2020-09-28 22:25:20.604000"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:25:20.611003"], ["updated_at", "2020-09-28 22:25:20.611003"]]
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:25:20.638755"], ["updated_at", "2020-09-28 22:25:20.638755"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (1.2ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-28 22:25:20.651518"], ["updated_at", "2020-09-28 22:25:20.651518"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-28 22:25:51.162704"], ["updated_at", "2020-09-28 22:25:51.162704"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 1], ["rut", "111111"], ["created_at", "2020-09-28 22:25:51.183359"], ["updated_at", "2020-09-28 22:25:51.183359"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-28 22:25:51.193857"], ["updated_at", "2020-09-28 22:25:51.193857"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-28 22:25:51.206796"], ["updated_at", "2020-09-28 22:25:51.206796"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLocalProsecution Load (0.4ms)[0m  [1m[34mSELECT "local_prosecutions".* FROM "local_prosecutions" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProcedure Load (0.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (20.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (102.2ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "user_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3bdefac50f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_user_id" ON "procedures"  ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 01:25:49.950546"], ["updated_at", "2020-09-29 01:25:49.950546"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-29 01:25:55.553572"], ["updated_at", "2020-09-29 01:25:55.553572"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["created_at", "2020-09-29 01:28:07.788742"], ["updated_at", "2020-09-29 01:28:07.788742"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (1.0ms)[0m  [1m[32mINSERT INTO "prefectures" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 01:42:07.047345"], ["updated_at", "2020-09-29 01:42:07.047345"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:42:59.768174"], ["updated_at", "2020-09-29 01:42:59.768174"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (2.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 01:42:59.785340"], ["updated_at", "2020-09-29 01:42:59.785340"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.9ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 01:42:59.801291"], ["updated_at", "2020-09-29 01:42:59.801291"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (1.0ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:42:59.813116"], ["updated_at", "2020-09-29 01:42:59.813116"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (1.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 01:42:59.825087"], ["updated_at", "2020-09-29 01:42:59.825087"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 01:42:59.842851"], ["updated_at", "2020-09-29 01:42:59.842851"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:43:47.323687"], ["updated_at", "2020-09-29 01:43:47.323687"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 3], ["created_at", "2020-09-29 01:43:47.338248"], ["updated_at", "2020-09-29 01:43:47.338248"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 01:43:47.348557"], ["updated_at", "2020-09-29 01:43:47.348557"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:43:47.357973"], ["updated_at", "2020-09-29 01:43:47.357973"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 01:43:47.367794"], ["updated_at", "2020-09-29 01:43:47.367794"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 01:43:47.380252"], ["updated_at", "2020-09-29 01:43:47.380252"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:44:30.202054"], ["updated_at", "2020-09-29 01:44:30.202054"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 4], ["created_at", "2020-09-29 01:44:30.214848"], ["updated_at", "2020-09-29 01:44:30.214848"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 3], ["created_at", "2020-09-29 01:44:30.227189"], ["updated_at", "2020-09-29 01:44:30.227189"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:44:30.236768"], ["updated_at", "2020-09-29 01:44:30.236768"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 3], ["created_at", "2020-09-29 01:44:30.246616"], ["updated_at", "2020-09-29 01:44:30.246616"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 3], ["local_prosecution_id", 3], ["created_at", "2020-09-29 01:44:30.259288"], ["updated_at", "2020-09-29 01:44:30.259288"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (20.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (126.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (50.9ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "user_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3bdefac50f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_user_id" ON "procedures"  ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 01:44:48.225461"], ["updated_at", "2020-09-29 01:44:48.225461"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:44:53.460173"], ["updated_at", "2020-09-29 01:44:53.460173"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 01:44:53.474144"], ["updated_at", "2020-09-29 01:44:53.474144"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 01:44:53.484622"], ["updated_at", "2020-09-29 01:44:53.484622"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:44:53.494150"], ["updated_at", "2020-09-29 01:44:53.494150"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 01:44:53.503618"], ["updated_at", "2020-09-29 01:44:53.503618"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 01:44:53.515739"], ["updated_at", "2020-09-29 01:44:53.515739"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:46:28.087603"], ["updated_at", "2020-09-29 01:46:28.087603"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 01:46:28.100502"], ["updated_at", "2020-09-29 01:46:28.100502"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 01:46:28.110653"], ["updated_at", "2020-09-29 01:46:28.110653"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:46:28.119723"], ["updated_at", "2020-09-29 01:46:28.119723"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 01:46:28.129400"], ["updated_at", "2020-09-29 01:46:28.129400"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 01:46:28.142644"], ["updated_at", "2020-09-29 01:46:28.142644"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:46:53.544149"], ["updated_at", "2020-09-29 01:46:53.544149"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 3], ["created_at", "2020-09-29 01:46:53.557157"], ["updated_at", "2020-09-29 01:46:53.557157"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 3], ["created_at", "2020-09-29 01:46:53.567521"], ["updated_at", "2020-09-29 01:46:53.567521"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:46:53.576749"], ["updated_at", "2020-09-29 01:46:53.576749"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 3], ["created_at", "2020-09-29 01:46:53.586423"], ["updated_at", "2020-09-29 01:46:53.586423"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 3], ["local_prosecution_id", 3], ["created_at", "2020-09-29 01:46:53.600250"], ["updated_at", "2020-09-29 01:46:53.600250"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:47:24.381036"], ["updated_at", "2020-09-29 01:47:24.381036"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 4], ["created_at", "2020-09-29 01:47:24.450721"], ["updated_at", "2020-09-29 01:47:24.450721"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 4], ["created_at", "2020-09-29 01:47:24.518004"], ["updated_at", "2020-09-29 01:47:24.518004"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:47:24.635540"], ["updated_at", "2020-09-29 01:47:24.635540"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 4], ["created_at", "2020-09-29 01:47:24.812807"], ["updated_at", "2020-09-29 01:47:24.812807"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 4], ["local_prosecution_id", 4], ["created_at", "2020-09-29 01:47:28.353631"], ["updated_at", "2020-09-29 01:47:28.353631"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (21.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (50.7ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "user_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3bdefac50f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_user_id" ON "procedures"  ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 01:56:15.695418"], ["updated_at", "2020-09-29 01:56:15.695418"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:56:18.749834"], ["updated_at", "2020-09-29 01:56:18.749834"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 01:56:18.763324"], ["updated_at", "2020-09-29 01:56:18.763324"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 01:56:18.773353"], ["updated_at", "2020-09-29 01:56:18.773353"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:56:18.782451"], ["updated_at", "2020-09-29 01:56:18.782451"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 01:56:18.791079"], ["updated_at", "2020-09-29 01:56:18.791079"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 01:56:18.805143"], ["updated_at", "2020-09-29 01:56:18.805143"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:58:16.327572"], ["updated_at", "2020-09-29 01:58:16.327572"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 01:58:16.340596"], ["updated_at", "2020-09-29 01:58:16.340596"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 01:58:16.350861"], ["updated_at", "2020-09-29 01:58:16.350861"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:58:16.359256"], ["updated_at", "2020-09-29 01:58:16.359256"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 01:58:16.367604"], ["updated_at", "2020-09-29 01:58:16.367604"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 01:58:16.379317"], ["updated_at", "2020-09-29 01:58:16.379317"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 01:59:26.725746"], ["updated_at", "2020-09-29 01:59:26.725746"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 3], ["created_at", "2020-09-29 01:59:26.739381"], ["updated_at", "2020-09-29 01:59:26.739381"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 3], ["created_at", "2020-09-29 01:59:26.749564"], ["updated_at", "2020-09-29 01:59:26.749564"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 01:59:26.758830"], ["updated_at", "2020-09-29 01:59:26.758830"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 3], ["created_at", "2020-09-29 01:59:26.770999"], ["updated_at", "2020-09-29 01:59:26.770999"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 3], ["local_prosecution_id", 3], ["created_at", "2020-09-29 01:59:26.785396"], ["updated_at", "2020-09-29 01:59:26.785396"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (24.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (52.2ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "user_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3bdefac50f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_user_id" ON "procedures"  ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 02:00:07.471681"], ["updated_at", "2020-09-29 02:00:07.471681"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:00:14.569949"], ["updated_at", "2020-09-29 02:00:14.569949"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.8ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 02:00:14.583723"], ["updated_at", "2020-09-29 02:00:14.583723"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 02:00:14.594074"], ["updated_at", "2020-09-29 02:00:14.594074"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:00:14.603209"], ["updated_at", "2020-09-29 02:00:14.603209"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 02:00:14.611855"], ["updated_at", "2020-09-29 02:00:14.611855"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 02:00:14.622938"], ["updated_at", "2020-09-29 02:00:14.622938"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:00:26.721976"], ["updated_at", "2020-09-29 02:00:26.721976"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 02:00:26.734729"], ["updated_at", "2020-09-29 02:00:26.734729"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 02:00:26.747007"], ["updated_at", "2020-09-29 02:00:26.747007"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:00:26.756429"], ["updated_at", "2020-09-29 02:00:26.756429"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 02:00:26.766410"], ["updated_at", "2020-09-29 02:00:26.766410"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 02:00:26.778347"], ["updated_at", "2020-09-29 02:00:26.778347"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:03:12.280486"], ["updated_at", "2020-09-29 02:03:12.280486"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 3], ["created_at", "2020-09-29 02:03:12.297056"], ["updated_at", "2020-09-29 02:03:12.297056"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 3], ["created_at", "2020-09-29 02:03:12.307356"], ["updated_at", "2020-09-29 02:03:12.307356"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:03:12.318636"], ["updated_at", "2020-09-29 02:03:12.318636"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 3], ["created_at", "2020-09-29 02:03:12.329023"], ["updated_at", "2020-09-29 02:03:12.329023"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 3], ["local_prosecution_id", 3], ["created_at", "2020-09-29 02:03:12.342416"], ["updated_at", "2020-09-29 02:03:12.342416"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "user_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["user_id", 3], ["local_prosecution_id", 3], ["created_at", "2020-09-29 02:03:12.356817"], ["updated_at", "2020-09-29 02:03:12.356817"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 02:03:12.371663"], ["updated_at", "2020-09-29 02:03:12.371663"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 02:03:12.390842"], ["updated_at", "2020-09-29 02:03:12.390842"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:03:12.404013"], ["updated_at", "2020-09-29 02:03:12.404013"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:03:12.407140"], ["updated_at", "2020-09-29 02:03:12.407140"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProcedure Load (1.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLocalProsecution Load (0.3ms)[0m  [1m[34mSELECT "local_prosecutions".* FROM "local_prosecutions" WHERE "local_prosecutions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:05:12.409496"], ["updated_at", "2020-09-29 02:05:12.409496"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 4], ["created_at", "2020-09-29 02:05:12.422349"], ["updated_at", "2020-09-29 02:05:12.422349"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 4], ["created_at", "2020-09-29 02:05:12.432540"], ["updated_at", "2020-09-29 02:05:12.432540"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:05:12.440686"], ["updated_at", "2020-09-29 02:05:12.440686"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 4], ["created_at", "2020-09-29 02:05:12.449126"], ["updated_at", "2020-09-29 02:05:12.449126"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 4], ["created_at", "2020-09-29 02:05:12.460780"], ["updated_at", "2020-09-29 02:05:12.460780"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.5ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "user_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["user_id", 4], ["local_prosecution_id", 4], ["created_at", "2020-09-29 02:05:12.473362"], ["updated_at", "2020-09-29 02:05:12.473362"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.2ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 02:05:12.484520"], ["updated_at", "2020-09-29 02:05:12.484520"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.6ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 2], ["procedure_id", 2], ["role", 1], ["created_at", "2020-09-29 02:05:12.498781"], ["updated_at", "2020-09-29 02:05:12.498781"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.3ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:05:12.508743"], ["updated_at", "2020-09-29 02:05:12.508743"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:05:12.511615"], ["updated_at", "2020-09-29 02:05:12.511615"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (32.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (25.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 02:15:48.087937"], ["updated_at", "2020-09-29 02:15:48.087937"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:15:52.008602"], ["updated_at", "2020-09-29 02:15:52.008602"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 02:15:52.022683"], ["updated_at", "2020-09-29 02:15:52.022683"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 02:15:52.033219"], ["updated_at", "2020-09-29 02:15:52.033219"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:15:52.042710"], ["updated_at", "2020-09-29 02:15:52.042710"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 02:15:52.052270"], ["updated_at", "2020-09-29 02:15:52.052270"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 02:15:52.066604"], ["updated_at", "2020-09-29 02:15:52.066604"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 02:16:09.100535"], ["updated_at", "2020-09-29 02:16:09.100535"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 02:16:09.113536"], ["updated_at", "2020-09-29 02:16:09.113536"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.4ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 02:16:09.123627"], ["updated_at", "2020-09-29 02:16:09.123627"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.2ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 02:16:09.133022"], ["updated_at", "2020-09-29 02:16:09.133022"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 02:16:09.144943"], ["updated_at", "2020-09-29 02:16:09.144943"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["created_at", "2020-09-29 02:16:09.159055"], ["updated_at", "2020-09-29 02:16:09.159055"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 02:16:09.172626"], ["updated_at", "2020-09-29 02:16:09.172626"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 02:16:09.188943"], ["updated_at", "2020-09-29 02:16:09.188943"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 02:16:09.200580"], ["updated_at", "2020-09-29 02:16:09.200580"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:16:09.217065"], ["updated_at", "2020-09-29 02:16:09.217065"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.1ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 02:16:09.220030"], ["updated_at", "2020-09-29 02:16:09.220030"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProcedure Load (2.8ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLocalProsecution Load (2.3ms)[0m  [1m[34mSELECT "local_prosecutions".* FROM "local_prosecutions" WHERE "local_prosecutions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (4.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (39.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (25.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (114.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:00:32.958274"], ["updated_at", "2020-09-29 19:00:32.958274"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:00:32.965540"], ["updated_at", "2020-09-29 19:00:32.965540"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:00:33.100446"], ["updated_at", "2020-09-29 19:00:33.100446"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 19:00:33.104973"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:00:33.110106"], ["updated_at", "2020-09-29 19:00:33.110106"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 19:00:33.151267"], ["updated_at", "2020-09-29 19:00:33.151267"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (2.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 19:00:33.168111"], ["updated_at", "2020-09-29 19:00:33.168111"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 19:00:33.182946"], ["updated_at", "2020-09-29 19:00:33.182946"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 19:00:33.195458"], ["updated_at", "2020-09-29 19:00:33.195458"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 19:00:33.208090"], ["updated_at", "2020-09-29 19:00:33.208090"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 19:00:33.223986"], ["updated_at", "2020-09-29 19:00:33.223986"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 19:00:33.241079"], ["updated_at", "2020-09-29 19:00:33.241079"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 19:00:33.256694"], ["updated_at", "2020-09-29 19:00:33.256694"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 19:00:33.268910"], ["updated_at", "2020-09-29 19:00:33.268910"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:00:33.280619"], ["updated_at", "2020-09-29 19:00:33.280619"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.1ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:00:33.284031"], ["updated_at", "2020-09-29 19:00:33.284031"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" ORDER BY "procedures"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "development"], ["updated_at", "2020-09-29 19:05:46.825233"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 19:05:46.829686"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 19:05:46.866155"], ["updated_at", "2020-09-29 19:05:46.866155"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 19:05:46.880258"], ["updated_at", "2020-09-29 19:05:46.880258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 19:05:46.892096"], ["updated_at", "2020-09-29 19:05:46.892096"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 19:05:46.903690"], ["updated_at", "2020-09-29 19:05:46.903690"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 19:05:46.918970"], ["updated_at", "2020-09-29 19:05:46.918970"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 19:05:46.933883"], ["updated_at", "2020-09-29 19:05:46.933883"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 19:05:46.949552"], ["updated_at", "2020-09-29 19:05:46.949552"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 19:05:46.964054"], ["updated_at", "2020-09-29 19:05:46.964054"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 19:05:46.975469"], ["updated_at", "2020-09-29 19:05:46.975469"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.6ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:05:46.987105"], ["updated_at", "2020-09-29 19:05:46.987105"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:05:46.991336"], ["updated_at", "2020-09-29 19:05:46.991336"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (43.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (40.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (123.1ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:40:23.740439"], ["updated_at", "2020-09-29 19:40:23.740439"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:40:23.747677"], ["updated_at", "2020-09-29 19:40:23.747677"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:40:23.909139"], ["updated_at", "2020-09-29 19:40:23.909139"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 19:40:23.914162"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:40:23.918492"], ["updated_at", "2020-09-29 19:40:23.918492"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 19:40:23.964139"], ["updated_at", "2020-09-29 19:40:23.964139"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.8ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 19:40:23.980373"], ["updated_at", "2020-09-29 19:40:23.980373"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.8ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 19:40:23.992890"], ["updated_at", "2020-09-29 19:40:23.992890"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 19:40:24.005394"], ["updated_at", "2020-09-29 19:40:24.005394"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 19:40:24.017498"], ["updated_at", "2020-09-29 19:40:24.017498"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 19:40:24.033625"], ["updated_at", "2020-09-29 19:40:24.033625"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "procedures" ("id", "classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 100], ["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 19:40:24.052209"], ["updated_at", "2020-09-29 19:40:24.052209"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.5ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 19:40:24.069421"], ["updated_at", "2020-09-29 19:40:24.069421"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 100], ["role", 1], ["created_at", "2020-09-29 19:40:24.082584"], ["updated_at", "2020-09-29 19:40:24.082584"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:40:24.095568"], ["updated_at", "2020-09-29 19:40:24.095568"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:40:24.099038"], ["updated_at", "2020-09-29 19:40:24.099038"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (36.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (32.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (59.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (58.8ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:41:31.378214"], ["updated_at", "2020-09-29 19:41:31.378214"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:41:31.384574"], ["updated_at", "2020-09-29 19:41:31.384574"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "crime_id" integer, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:41:31.530943"], ["updated_at", "2020-09-29 19:41:31.530943"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 19:41:31.535644"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0d8d943efd0b91c745c6f8ea4dfc62dc7be4ae23"], ["created_at", "2020-09-29 19:41:31.539898"], ["updated_at", "2020-09-29 19:41:31.539898"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 19:41:31.580779"], ["updated_at", "2020-09-29 19:41:31.580779"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 19:41:31.594940"], ["updated_at", "2020-09-29 19:41:31.594940"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.5ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 19:41:31.605567"], ["updated_at", "2020-09-29 19:41:31.605567"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 19:41:31.615095"], ["updated_at", "2020-09-29 19:41:31.615095"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 19:41:31.626248"], ["updated_at", "2020-09-29 19:41:31.626248"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 19:41:31.640677"], ["updated_at", "2020-09-29 19:41:31.640677"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 19:41:31.656825"], ["updated_at", "2020-09-29 19:41:31.656825"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.5ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 19:41:31.669295"], ["updated_at", "2020-09-29 19:41:31.669295"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 19:41:31.680748"], ["updated_at", "2020-09-29 19:41:31.680748"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:41:31.695559"], ["updated_at", "2020-09-29 19:41:31.695559"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:41:31.699247"], ["updated_at", "2020-09-29 19:41:31.699247"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCrime Load (0.3ms)[0m  [1m[34mSELECT "crimes".* FROM "crimes" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (36.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (30.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (55.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (55.4ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 19:42:30.191811"], ["updated_at", "2020-09-29 19:42:30.191811"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCrime Load (0.3ms)[0m  [1m[34mSELECT "crimes".* FROM "crimes" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.8ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 19:42:45.228647"], ["updated_at", "2020-09-29 19:42:45.228647"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.9ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 19:42:45.245600"], ["updated_at", "2020-09-29 19:42:45.245600"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.5ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 19:42:45.257811"], ["updated_at", "2020-09-29 19:42:45.257811"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 19:42:45.268710"], ["updated_at", "2020-09-29 19:42:45.268710"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 19:42:45.280190"], ["updated_at", "2020-09-29 19:42:45.280190"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 19:42:45.295868"], ["updated_at", "2020-09-29 19:42:45.295868"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 19:42:45.312870"], ["updated_at", "2020-09-29 19:42:45.312870"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.4ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 19:42:45.328230"], ["updated_at", "2020-09-29 19:42:45.328230"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 19:42:45.344997"], ["updated_at", "2020-09-29 19:42:45.344997"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:42:45.355103"], ["updated_at", "2020-09-29 19:42:45.355103"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 19:42:45.358328"], ["updated_at", "2020-09-29 19:42:45.358328"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCrime Load (0.3ms)[0m  [1m[34mSELECT "crimes".* FROM "crimes" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2020-09-29 16:57:01 -0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.6ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 48.5ms | Allocations: 11362)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 4.2ms | Allocations: 15910)


  
ActionView::Template::Error (undefined method `classificaction' for #<Procedure:0x00007ff6aeeb6bb0>
Did you mean?  classification
               classification=
               classification?):
    19:   <tbody>
    20:     <% @procedures.each do |procedure| %>
    21:       <tr>
    22:         <td><%= procedure.classificaction %></td>
    23:         <td><%= procedure.categories %></td>
    24:         <td><%= procedure.user_id %></td>
    25:         <td><%= procedure.local_prosecution_id %></td>
  
app/views/procedures/index.html.erb:22
app/views/procedures/index.html.erb:20
Started GET "/" for ::1 at 2020-09-29 17:02:23 -0300
  
ArgumentError (must be called with a path and/or options):
  
config/routes.rb:3:in `block in <main>'
config/routes.rb:1:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (21.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (55.9ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (57.2ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 20:05:33.406154"], ["updated_at", "2020-09-29 20:05:33.406154"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 20:05:38.699895"], ["updated_at", "2020-09-29 20:05:38.699895"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 20:05:38.712669"], ["updated_at", "2020-09-29 20:05:38.712669"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 20:05:38.723133"], ["updated_at", "2020-09-29 20:05:38.723133"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 20:05:38.732729"], ["updated_at", "2020-09-29 20:05:38.732729"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 20:05:38.742553"], ["updated_at", "2020-09-29 20:05:38.742553"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 20:05:38.754322"], ["updated_at", "2020-09-29 20:05:38.754322"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 20:05:38.766959"], ["updated_at", "2020-09-29 20:05:38.766959"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.3ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["created_at", "2020-09-29 20:05:38.778377"], ["updated_at", "2020-09-29 20:05:38.778377"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 20:05:38.793275"], ["updated_at", "2020-09-29 20:05:38.793275"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 20:05:38.803057"], ["updated_at", "2020-09-29 20:05:38.803057"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 20:05:38.805925"], ["updated_at", "2020-09-29 20:05:38.805925"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2020-09-29 17:05:43 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.6ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 50.7ms | Allocations: 11015)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 5.4ms | Allocations: 15564)


  
ActionView::Template::Error (undefined method `classificaction' for #<Procedure:0x00007f89288629b0>
Did you mean?  classification
               classification=
               classification?):
    19:   <tbody>
    20:     <% @procedures.each do |procedure| %>
    21:       <tr>
    22:         <td><%= procedure.classificaction %></td>
    23:         <td><%= procedure.categories %></td>
    24:         <td><%= procedure.user_id %></td>
    25:         <td><%= procedure.local_prosecution_id %></td>
  
app/views/procedures/index.html.erb:22
app/views/procedures/index.html.erb:20
Started GET "/" for ::1 at 2020-09-29 17:07:06 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (Duration: 124.8ms | Allocations: 68453)
Completed 500 Internal Server Error in 148ms (ActiveRecord: 4.7ms | Allocations: 73422)


  
ActionView::Template::Error (undefined method `user_path' for #<#<Class:0x00007f932287c9b0>:0x00007f93228cd248>):
    22:         <td><%= user.birthday %></td>
    23:         <td><%= user.police_unit_id %></td>
    24:         <td><%= user.local_prosecution_id %></td>
    25:         <td><%= link_to 'Show', user %></td>
    26:         <td><%= link_to 'Edit', edit_user_path(user) %></td>
    27:         <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    28:       </tr>
  
app/views/users/index.html.erb:25
app/views/users/index.html.erb:18
Started GET "/" for ::1 at 2020-09-29 17:07:31 -0300
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:18
  Rendered users/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 5175)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/martinmorenocerda/Desktop/Atenas/public/packs
[Webpacker] Hash: 15d1bb7b54cf6326b9ba
Version: webpack 4.44.2
Time: 1331ms
Built at: 09/29/2020 5:07:34 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-9afcbb5693aa87623e69.js    124 KiB  application  [emitted] [immutable]  application
js/application-9afcbb5693aa87623e69.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-9afcbb5693aa87623e69.js js/application-9afcbb5693aa87623e69.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 3031ms (Views: 3022.1ms | ActiveRecord: 3.4ms | Allocations: 21844)


Started GET "/" for ::1 at 2020-09-29 17:07:48 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 25.3ms | Allocations: 10174)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.3ms | Allocations: 13464)


  
ActionView::Template::Error (undefined method `classificaction' for #<Procedure:0x00007f9327069fc0>
Did you mean?  classification
               classification=
               classification?):
    19:   <tbody>
    20:     <% @procedures.each do |procedure| %>
    21:       <tr>
    22:         <td><%= procedure.classificaction %></td>
    23:         <td><%= procedure.categories %></td>
    24:         <td><%= procedure.user_id %></td>
    25:         <td><%= procedure.local_prosecution_id %></td>
  
app/views/procedures/index.html.erb:22
app/views/procedures/index.html.erb:20
Started GET "/" for ::1 at 2020-09-29 17:07:52 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 4234)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 4665)


  
ActionView::Template::Error (undefined method `classificaction' for #<Procedure:0x00007f9327823ab8>
Did you mean?  classification
               classification=
               classification?):
    19:   <tbody>
    20:     <% @procedures.each do |procedure| %>
    21:       <tr>
    22:         <td><%= procedure.classificaction %></td>
    23:         <td><%= procedure.categories %></td>
    24:         <td><%= procedure.user_id %></td>
    25:         <td><%= procedure.local_prosecution_id %></td>
  
app/views/procedures/index.html.erb:22
app/views/procedures/index.html.erb:20
Started GET "/" for ::1 at 2020-09-29 17:09:43 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.6ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 10777)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 5.2ms | Allocations: 15426)


  
ActionView::Template::Error (undefined method `user_id' for #<Procedure:0x00007fd2660e38b0>):
    21:       <tr>
    22:         <td><%= procedure.classification %></td>
    23:         <td><%= procedure.categories %></td>
    24:         <td><%= procedure.user_id %></td>
    25:         <td><%= procedure.local_prosecution_id %></td>
    26:         <td><%= procedure.story %></td>
    27:         <td><%= procedure.address %></td>
  
app/views/procedures/index.html.erb:24
app/views/procedures/index.html.erb:20
Started GET "/" for ::1 at 2020-09-29 17:10:32 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (1.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 7365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 46.8ms | ActiveRecord: 5.3ms | Allocations: 16989)


Started GET "/procedures/1" for ::1 at 2020-09-29 17:10:45 -0300
Processing by ProceduresController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/procedures_controller.rb:67:in `set_procedure'
  Rendering procedures/show.html.erb within layouts/application
  Rendered procedures/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 374)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.4ms | Allocations: 5244)


Started GET "/procedures/new" for ::1 at 2020-09-29 17:10:54 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/_form.html.erb (Duration: 13.6ms | Allocations: 4395)
  Rendered procedures/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 4730)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms | Allocations: 8610)


Started GET "/procedures/1" for ::1 at 2020-09-29 17:15:59 -0300
Processing by ProceduresController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/procedures_controller.rb:67:in `set_procedure'
  Rendering procedures/show.html.erb within layouts/application
  Rendered procedures/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 102)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 4408)


Started GET "/procedures" for ::1 at 2020-09-29 17:16:00 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.3ms | Allocations: 4562)


Started GET "/procedures/1/edit" for ::1 at 2020-09-29 17:16:02 -0300
Processing by ProceduresController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/procedures_controller.rb:67:in `set_procedure'
  Rendering procedures/edit.html.erb within layouts/application
  Rendered procedures/_form.html.erb (Duration: 2.8ms | Allocations: 1738)
  Rendered procedures/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.3ms | Allocations: 6384)


Started GET "/procedures" for ::1 at 2020-09-29 17:16:04 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 4536)


Started GET "/procedures/new" for ::1 at 2020-09-29 17:16:05 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/_form.html.erb (Duration: 2.5ms | Allocations: 1638)
  Rendered procedures/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1720)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 5443)


Started GET "/procedures" for ::1 at 2020-09-29 17:16:07 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 817)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.4ms | Allocations: 4538)


Started GET "/procedures/new" for ::1 at 2020-09-29 17:16:15 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/_form.html.erb (Duration: 2.3ms | Allocations: 1638)
  Rendered procedures/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1720)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 5441)


Started GET "/procedures" for ::1 at 2020-09-29 17:17:21 -0300
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 816)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms | Allocations: 4534)


Started GET "/procedures" for ::1 at 2020-09-29 17:19:42 -0300
  
ActionController::RoutingError (No route matches [GET] "/procedures"):
  
actionpack (6.0.3.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.4) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.4) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.3) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/1/procedures" for ::1 at 2020-09-29 17:19:47 -0300
  
ActionController::RoutingError (No route matches [GET] "/1/procedures"):
  
actionpack (6.0.3.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.4) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.4) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.3) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.3) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:20:39 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 134.9ms | Allocations: 70348)
Completed 500 Internal Server Error in 140ms (ActiveRecord: 3.5ms | Allocations: 73146)


  
ActionView::Template::Error (undefined method `procedure_path' for #<#<Class:0x00007fcfdc15db88>:0x00007fcfdc151540>):
    26:         <td><%= procedure.story %></td>
    27:         <td><%= procedure.address %></td>
    28:         <td><%= procedure.state %></td>
    29:         <td><%= link_to 'Show', procedure %></td>
    30:         <td><%= link_to 'Edit', edit_procedure_path(procedure) %></td>
    31:         <td><%= link_to 'Destroy', procedure, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    32:       </tr>
  
app/views/procedures/index.html.erb:29
app/views/procedures/index.html.erb:20
Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:23:25 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2018)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 3202)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"procedures", :user_id=>#<Procedure id: 1, classification: 0, categories: ["Categoria 1", "Categoria 2"], police_in_charge_id: 1, local_prosecution_id: 1, story: nil, address: nil, state: nil, created_at: "2020-09-29 20:05:38", updated_at: "2020-09-29 20:05:38">}, missing required keys: [:id]):
    26:         <td><%= procedure.story %></td>
    27:         <td><%= procedure.address %></td>
    28:         <td><%= procedure.state %></td>
    29:         <td><%= link_to 'Show', user_procedure_path(procedure) %></td>
    30:         <td><%= link_to 'Edit', edit_user_procedure_path(procedure) %></td>
    31:         <td><%= link_to 'Destroy', user_procedure_path(procedure), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    32:       </tr>
  
app/views/procedures/index.html.erb:29
app/views/procedures/index.html.erb:20
Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:26:33 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2049)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3232)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"procedures", :user_id=>#<Procedure id: 1, classification: 0, categories: ["Categoria 1", "Categoria 2"], police_in_charge_id: 1, local_prosecution_id: 1, story: nil, address: nil, state: nil, created_at: "2020-09-29 20:05:38", updated_at: "2020-09-29 20:05:38">}, missing required keys: [:id]):
    27:         <td><%= procedure.address %></td>
    28:         <td><%= procedure.state %></td>
    29:         <td><%= link_to 'Show', user_procedure_path(1, procedure) %></td>
    30:         <td><%= link_to 'Edit', edit_user_procedure_path(procedure) %></td>
    31:         <td><%= link_to 'Destroy', user_procedure_path(procedure), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    32:       </tr>
    33:     <% end %>
  
app/views/procedures/index.html.erb:30
app/views/procedures/index.html.erb:20
Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:26:48 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.2ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 201.7ms | Allocations: 126235)
Completed 500 Internal Server Error in 204ms (ActiveRecord: 0.2ms | Allocations: 127418)


  
ActionView::Template::Error (undefined local variable or method `new_procedure_path' for #<#<Class:0x00007fcfd81c3f90>:0x00007fcfd81c25f0>
Did you mean?  new_user_procedure_path):
    36: 
    37: <br>
    38: 
    39: <%= link_to 'New Procedure', new_procedure_path %>
  
app/views/procedures/index.html.erb:39
Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:27:11 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.3ms | Allocations: 5809)


Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:28:58 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 70488.9ms | Allocations: 192689)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70504ms (Views: 70502.4ms | ActiveRecord: 0.4ms | Allocations: 202781)


Started GET "/users/1/procedures" for ::1 at 2020-09-29 17:30:11 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1157)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.6ms | ActiveRecord: 0.3ms | Allocations: 5800)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("rut", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["rut", "19838173-k"], ["created_at", "2020-09-29 20:46:30.570151"], ["updated_at", "2020-09-29 20:46:30.570151"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("rut", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["rut", "19.838.173-k"], ["created_at", "2020-09-29 20:47:28.177134"], ["updated_at", "2020-09-29 20:47:28.177134"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("rut", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["rut", "19.838.17.3-k"], ["created_at", "2020-09-29 20:47:36.523061"], ["updated_at", "2020-09-29 20:47:36.523061"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("rut", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["rut", "19838173k"], ["created_at", "2020-09-29 20:47:44.865942"], ["updated_at", "2020-09-29 20:47:44.865942"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (42.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (29.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (142.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (65.2ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 20:55:17.660036"], ["updated_at", "2020-09-29 20:55:17.660036"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 20:55:17.666945"], ["updated_at", "2020-09-29 20:55:17.666945"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 20:55:17.812223"], ["updated_at", "2020-09-29 20:55:17.812223"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 20:55:17.817494"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 20:55:17.824959"], ["updated_at", "2020-09-29 20:55:17.824959"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.8ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 20:55:17.864352"], ["updated_at", "2020-09-29 20:55:17.864352"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.8ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 20:55:17.898599"], ["updated_at", "2020-09-29 20:55:17.898599"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.7ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 20:55:17.910681"], ["updated_at", "2020-09-29 20:55:17.910681"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 20:55:17.922364"], ["updated_at", "2020-09-29 20:55:17.922364"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (1.0ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 20:55:17.934346"], ["updated_at", "2020-09-29 20:55:17.934346"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (37.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (29.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (66.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (61.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 20:56:15.934182"], ["updated_at", "2020-09-29 20:56:15.934182"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 20:56:15.941041"], ["updated_at", "2020-09-29 20:56:15.941041"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 20:56:16.092566"], ["updated_at", "2020-09-29 20:56:16.092566"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 20:56:16.097579"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 20:56:16.104976"], ["updated_at", "2020-09-29 20:56:16.104976"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 20:56:16.142491"], ["updated_at", "2020-09-29 20:56:16.142491"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 20:56:16.156409"], ["updated_at", "2020-09-29 20:56:16.156409"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 20:56:16.166761"], ["updated_at", "2020-09-29 20:56:16.166761"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 20:56:16.177128"], ["updated_at", "2020-09-29 20:56:16.177128"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 20:56:16.187794"], ["updated_at", "2020-09-29 20:56:16.187794"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (37.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (35.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (61.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (55.3ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:01:05.903642"], ["updated_at", "2020-09-29 21:01:05.903642"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:01:05.910153"], ["updated_at", "2020-09-29 21:01:05.910153"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:01:06.056931"], ["updated_at", "2020-09-29 21:01:06.056931"]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 21:01:06.061072"], ["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:01:06.067146"], ["updated_at", "2020-09-29 21:01:06.067146"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.7ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 21:01:06.102179"], ["updated_at", "2020-09-29 21:01:06.102179"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.8ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 21:01:06.118911"], ["updated_at", "2020-09-29 21:01:06.118911"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.8ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 21:01:06.141817"], ["updated_at", "2020-09-29 21:01:06.141817"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 21:01:06.153050"], ["updated_at", "2020-09-29 21:01:06.153050"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 21:01:06.164680"], ["updated_at", "2020-09-29 21:01:06.164680"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (34.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (35.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (66.2ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (60.5ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:01:27.228310"], ["updated_at", "2020-09-29 21:01:27.228310"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:01:27.234700"], ["updated_at", "2020-09-29 21:01:27.234700"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:01:27.374935"], ["updated_at", "2020-09-29 21:01:27.374935"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 21:01:27.379616"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:01:27.386577"], ["updated_at", "2020-09-29 21:01:27.386577"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 21:01:27.427997"], ["updated_at", "2020-09-29 21:01:27.427997"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (11.7ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 21:01:27.441949"], ["updated_at", "2020-09-29 21:01:27.441949"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.7ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 21:01:27.464848"], ["updated_at", "2020-09-29 21:01:27.464848"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 21:01:27.475097"], ["updated_at", "2020-09-29 21:01:27.475097"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 21:01:27.486287"], ["updated_at", "2020-09-29 21:01:27.486287"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (36.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (32.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (64.7ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (58.9ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:04:29.485496"], ["updated_at", "2020-09-29 21:04:29.485496"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:04:29.492225"], ["updated_at", "2020-09-29 21:04:29.492225"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "alias_accuseds" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crime_in_accuseds" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "crimes" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "local_prosecutions" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "people" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "person_in_procedures" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_stations" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "police_units" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "prefectures" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "procedures" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "regional_prosecutions" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "alias_accuseds" ADD CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "crime_in_accuseds" ADD CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "local_prosecutions" ADD CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "person_in_procedures" ADD CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "police_stations" ADD CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "police_units" ADD CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "procedures" ADD CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200927001751)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200925000000),
(20200926000000),
(20200926000004),
(20200926000005),
(20200926000006),
(20200926215954),
(20200926220239),
(20200926220258),
(20200926221325),
(20200926225000),
(20200926230432),
(20200926230841),
(20200926230928);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:04:29.640868"], ["updated_at", "2020-09-29 21:04:29.640868"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-09-29 21:04:29.645697"], ["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f5b05d212a5e661e4fef0a0417d7c3408ba0f949"], ["created_at", "2020-09-29 21:04:29.654147"], ["updated_at", "2020-09-29 21:04:29.654147"]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.5ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 21:04:29.693628"], ["updated_at", "2020-09-29 21:04:29.693628"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.9ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 21:04:29.707849"], ["updated_at", "2020-09-29 21:04:29.707849"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 21:04:29.730912"], ["updated_at", "2020-09-29 21:04:29.730912"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 21:04:29.741236"], ["updated_at", "2020-09-29 21:04:29.741236"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 21:04:29.753068"], ["updated_at", "2020-09-29 21:04:29.753068"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 21:04:29.768926"], ["updated_at", "2020-09-29 21:04:29.768926"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (1.0ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 21:04:29.786229"], ["updated_at", "2020-09-29 21:04:29.786229"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (1.9ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 21:04:29.817649"], ["updated_at", "2020-09-29 21:04:29.817649"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (37.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (31.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (62.4ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 21:04:53.420455"], ["updated_at", "2020-09-29 21:04:53.420455"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 21:04:58.554646"], ["updated_at", "2020-09-29 21:04:58.554646"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.8ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 21:04:58.569094"], ["updated_at", "2020-09-29 21:04:58.569094"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.6ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 21:04:58.580329"], ["updated_at", "2020-09-29 21:04:58.580329"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.4ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 21:04:58.590654"], ["updated_at", "2020-09-29 21:04:58.590654"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.8ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 21:04:58.601631"], ["updated_at", "2020-09-29 21:04:58.601631"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 21:04:58.620446"], ["updated_at", "2020-09-29 21:04:58.620446"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (1.0ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 21:04:58.638757"], ["updated_at", "2020-09-29 21:04:58.638757"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.6ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 21:04:58.674369"], ["updated_at", "2020-09-29 21:04:58.674369"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPerson Load (0.4ms)[0m  [1m[34mSELECT "people".* FROM "people" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.4ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 21:11:07.384181"], ["updated_at", "2020-09-29 21:11:07.384181"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.5ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 2], ["created_at", "2020-09-29 21:11:07.397592"], ["updated_at", "2020-09-29 21:11:07.397592"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.5ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 2], ["created_at", "2020-09-29 21:11:07.408483"], ["updated_at", "2020-09-29 21:11:07.408483"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.3ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 21:11:07.419050"], ["updated_at", "2020-09-29 21:11:07.419050"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.5ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 2], ["created_at", "2020-09-29 21:11:07.430499"], ["updated_at", "2020-09-29 21:11:07.430499"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 2], ["created_at", "2020-09-29 21:11:07.445720"], ["updated_at", "2020-09-29 21:11:07.445720"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.7ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 2], ["local_prosecution_id", 2], ["created_at", "2020-09-29 21:11:07.462024"], ["updated_at", "2020-09-29 21:11:07.462024"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.5ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["rut", "19838173-k"], ["created_at", "2020-09-29 21:11:07.477858"], ["updated_at", "2020-09-29 21:11:07.477858"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 2], ["role", 1], ["created_at", "2020-09-29 21:11:07.496779"], ["updated_at", "2020-09-29 21:11:07.496779"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.5ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 21:11:07.508407"], ["updated_at", "2020-09-29 21:11:07.508407"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 21:11:07.512021"], ["updated_at", "2020-09-29 21:11:07.512021"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2020-09-29 19:16:51 -0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#index as HTML
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.6ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 8425)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.3ms | Allocations: 13068)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"procedures", :id=>"1", :user_id=>nil}, missing required keys: [:user_id]):
    26:         <td><%= procedure.story %></td>
    27:         <td><%= procedure.address %></td>
    28:         <td><%= procedure.state %></td>
    29:         <td><%= link_to 'Show', user_procedure_path(params['user_id'], procedure) %></td>
    30:         <td><%= link_to 'Edit', edit_user_procedure_path(params['user_id'], procedure) %></td>
    31:         <td><%= link_to 'Destroy', user_procedure_path(params['user_id'], procedure), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    32:       </tr>
  
app/views/procedures/index.html.erb:29
app/views/procedures/index.html.erb:20
Started GET "/users/1/procedures" for ::1 at 2020-09-29 19:17:04 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1016)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.3ms | Allocations: 6454)


Started GET "/users/1/procedures/new" for ::1 at 2020-09-29 19:17:20 -0300
Processing by ProceduresController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/_form.html.erb (Duration: 113.2ms | Allocations: 64915)
  Rendered procedures/new.html.erb within layouts/application (Duration: 115.1ms | Allocations: 65229)
Completed 500 Internal Server Error in 117ms (ActiveRecord: 0.0ms | Allocations: 65819)


  
ActionView::Template::Error (undefined method `procedures_path' for #<#<Class:0x00007f9070b64178>:0x00007f9070c6b558>):
    1: <%= form_with(model: procedure, local: true) do |form| %>
    2:   <% if procedure.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(procedure.errors.count, "error") %> prohibited this procedure from being saved:</h2>
  
app/views/procedures/_form.html.erb:1
app/views/procedures/new.html.erb:3
Started GET "/users/1/procedures" for ::1 at 2020-09-29 19:17:24 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 992)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.3ms | Allocations: 4725)


Started GET "/users/1/procedures/1" for ::1 at 2020-09-29 19:18:37 -0300
Processing by ProceduresController#show as HTML
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mProcedure Load (0.3ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/procedures_controller.rb:67:in `set_procedure'
  Rendering procedures/show.html.erb within layouts/application
  Rendered procedures/show.html.erb within layouts/application (Duration: 107.9ms | Allocations: 64617)
Completed 500 Internal Server Error in 117ms (ActiveRecord: 0.5ms | Allocations: 67854)


  
ActionView::Template::Error (undefined method `edit_procedure_path' for #<#<Class:0x00007f9070b64178>:0x00007f9072eadad0>
Did you mean?  edit_user_procedure_path
               user_procedures_path):
    35:   <%= @procedure.state %>
    36: </p>
    37: 
    38: <%= link_to 'Edit', edit_procedure_path(@procedure) %> |
    39: <%= link_to 'Back', procedures_path %>
  
app/views/procedures/show.html.erb:38
Started GET "/users/1/procedures" for ::1 at 2020-09-29 19:18:39 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.6ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 990)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 4725)


Started GET "/users/1/procedures/1" for ::1 at 2020-09-29 19:28:33 -0300
Processing by ProceduresController#show as HTML
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mProcedure Load (0.5ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures" WHERE "procedures"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/procedures_controller.rb:67:in `set_procedure'
  Rendering procedures/show.html.erb within layouts/application
  Rendered procedures/show.html.erb within layouts/application (Duration: 102.7ms | Allocations: 64404)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 0.6ms | Allocations: 65573)


  
ActionView::Template::Error (undefined method `edit_procedure_path' for #<#<Class:0x00007f9070b64178>:0x00007f9072f755f8>
Did you mean?  edit_user_procedure_path
               user_procedures_path):
    35:   <%= @procedure.state %>
    36: </p>
    37: 
    38: <%= link_to 'Edit', edit_procedure_path(@procedure) %> |
    39: <%= link_to 'Back', procedures_path %>
  
app/views/procedures/show.html.erb:38
Started GET "/users/1/procedures" for ::1 at 2020-09-29 19:28:39 -0300
Processing by ProceduresController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering procedures/index.html.erb within layouts/application
  [1m[36mProcedure Load (0.4ms)[0m  [1m[34mSELECT "procedures".* FROM "procedures"[0m
  ↳ app/views/procedures/index.html.erb:20
  Rendered procedures/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 977)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.4ms | Allocations: 4702)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (40.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (25.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (122.4ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (52.8ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "deceased" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-09-29 23:40:57.622619"], ["updated_at", "2020-09-29 23:40:57.622619"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPrefecture Create (0.6ms)[0m  [1m[32mINSERT INTO "prefectures" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "prefectura"], ["created_at", "2020-09-29 23:41:05.024342"], ["updated_at", "2020-09-29 23:41:05.024342"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceStation Create (0.9ms)[0m  [1m[32mINSERT INTO "police_stations" ("prefecture_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["prefecture_id", 1], ["created_at", "2020-09-29 23:41:05.052454"], ["updated_at", "2020-09-29 23:41:05.052454"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPoliceUnit Create (0.7ms)[0m  [1m[32mINSERT INTO "police_units" ("police_station_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["police_station_id", 1], ["created_at", "2020-09-29 23:41:05.065669"], ["updated_at", "2020-09-29 23:41:05.065669"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRegionalProsecution Create (0.7ms)[0m  [1m[32mINSERT INTO "regional_prosecutions" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fiscalia regional"], ["created_at", "2020-09-29 23:41:05.078227"], ["updated_at", "2020-09-29 23:41:05.078227"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLocalProsecution Create (0.6ms)[0m  [1m[32mINSERT INTO "local_prosecutions" ("name", "regional_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "fiscalia 1"], ["regional_prosecution_id", 1], ["created_at", "2020-09-29 23:41:05.091886"], ["updated_at", "2020-09-29 23:41:05.091886"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("role", "rut", "police_unit_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role", 0], ["rut", "19838173k"], ["police_unit_id", 1], ["created_at", "2020-09-29 23:41:05.111572"], ["updated_at", "2020-09-29 23:41:05.111572"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProcedure Create (0.9ms)[0m  [1m[32mINSERT INTO "procedures" ("classification", "categories", "police_in_charge_id", "local_prosecution_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["classification", 0], ["categories", "{\"Categoria 1\",\"Categoria 2\"}"], ["police_in_charge_id", 1], ["local_prosecution_id", 1], ["created_at", "2020-09-29 23:41:05.130419"], ["updated_at", "2020-09-29 23:41:05.130419"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPerson Create (0.5ms)[0m  [1m[32mINSERT INTO "people" ("name", "last_name", "rut", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Juan"], ["last_name", "Perez"], ["rut", "19838173-k"], ["created_at", "2020-09-29 23:41:05.149794"], ["updated_at", "2020-09-29 23:41:05.149794"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPersonInProcedure Create (0.8ms)[0m  [1m[32mINSERT INTO "person_in_procedures" ("person_id", "procedure_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["person_id", 1], ["procedure_id", 1], ["role", 1], ["created_at", "2020-09-29 23:41:05.162598"], ["updated_at", "2020-09-29 23:41:05.162598"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.4ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 23:41:05.174009"], ["updated_at", "2020-09-29 23:41:05.174009"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCrime Create (0.2ms)[0m  [1m[32mINSERT INTO "crimes" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-09-29 23:41:05.177385"], ["updated_at", "2020-09-29 23:41:05.177385"]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (360.5ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (353.8ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (101.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "role" integer, "rut" character varying, "birthday" date, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "local_prosecution_id" bigint NOT NULL, "story" character varying, "address" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9bef32ff58"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_id" ON "procedures"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (9.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "deceased" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-10-10 21:44:42.237964"], ["updated_at", "2020-10-10 21:44:42.237964"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePolice (20201010222534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePolice (20201010222808)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "police" ("id" bigserial primary key, "name" character varying, "rut" character varying, "badge" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20201010222808"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (136.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (108.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (360.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (380.6ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (26.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "police" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_unit" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "prosecutor" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "Police" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_unit" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "Prosecutor" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-10-10 22:47:43.750393"], ["updated_at", "2020-10-10 22:47:43.750393"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (109.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (105.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (372.0ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (360.4ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProsecutors (20200926221323)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "prosecutors" ("id" bigserial primary key, "name" character varying, "rut" character varying, "local_prosecutions_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3883c3b60f"
FOREIGN KEY ("local_prosecutions_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_prosecutors_on_local_prosecutions_id" ON "prosecutors"  ("local_prosecutions_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221323"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePolice (20200926221324)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "police" ("id" bigserial primary key, "name" character varying, "rut" character varying, "badge" integer, "police_unit_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1f869c32b5"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_police_on_police_unit_id" ON "police"  ("police_unit_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221324"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "police" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_unit" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "prosecutor" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-10-10 22:52:20.412960"], ["updated_at", "2020-10-10 22:52:20.412960"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (108.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_development"[0m
  [1m[35m (107.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "atenas_test"[0m
  [1m[35m (367.7ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (387.5ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (27.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRegionalProsecutions (20200925000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "regional_prosecutions" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200925000000"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocalProsecutions (20200926000000)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "local_prosecutions" ("id" bigserial primary key, "name" character varying, "regional_prosecution_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_052e4cb340"
FOREIGN KEY ("regional_prosecution_id")
  REFERENCES "regional_prosecutions" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_local_prosecutions_on_regional_prosecution_id" ON "local_prosecutions"  ("regional_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000000"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrefectures (20200926000004)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "prefectures" ("id" bigserial primary key, "name" character varying, "region" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000004"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceStations (20200926000005)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "police_stations" ("id" bigserial primary key, "name" character varying, "police_type" integer, "prefecture_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_00b2d2edda"
FOREIGN KEY ("prefecture_id")
  REFERENCES "prefectures" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_police_stations_on_prefecture_id" ON "police_stations"  ("prefecture_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000005"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceUnits (20200926000006)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "police_units" ("id" bigserial primary key, "name" character varying, "police_station_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_88b607ecbc"
FOREIGN KEY ("police_station_id")
  REFERENCES "police_stations" ("id")
)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_police_units_on_police_station_id" ON "police_units"  ("police_station_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926000006"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20200926215954)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "police_unit_id" bigint, "local_prosecution_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4459d5b4e8"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_a0c816d758"
FOREIGN KEY ("local_prosecution_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_police_unit_id" ON "users"  ("police_unit_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_local_prosecution_id" ON "users"  ("local_prosecution_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926215954"]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20200926220239)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "notification_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220239"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20200926220258)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "sender_user_id" bigint NOT NULL, "receiver_user_id" bigint NOT NULL, "content" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3197d016f7"
FOREIGN KEY ("sender_user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e5915b2324"
FOREIGN KEY ("receiver_user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_user_id" ON "messages"  ("sender_user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_receiver_user_id" ON "messages"  ("receiver_user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926220258"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProsecutors (20200926221323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "prosecutors" ("id" bigserial primary key, "name" character varying, "rut" character varying, "local_prosecutions_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3883c3b60f"
FOREIGN KEY ("local_prosecutions_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_prosecutors_on_local_prosecutions_id" ON "prosecutors"  ("local_prosecutions_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221323"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceMen (20200926221324)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "police_men" ("id" bigserial primary key, "name" character varying, "rut" character varying, "badge" integer, "police_unit_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ade1fabd96"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE  INDEX  "index_police_men_on_police_unit_id" ON "police_men"  ("police_unit_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221324"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "police_man" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_unit" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "prosecutor" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "police_man" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_unit" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "prosecutor" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecution" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-10-10 22:56:19.392502"], ["updated_at", "2020-10-10 22:56:19.392502"]]
  [1m[35m (19.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProcedures (20200926221325)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "procedures" ("id" bigserial primary key, "classification" integer, "categories" text[], "police_in_charge_id" bigint NOT NULL, "police_unit_in_charge_id" bigint NOT NULL, "prosecutor_in_charge_id" bigint NOT NULL, "local_prosecution_in_charge_id" bigint NOT NULL, "story" character varying, "address" character varying, "sector" character varying, "region" character varying, "state" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_01ebe2587f"
FOREIGN KEY ("police_in_charge_id")
  REFERENCES "police_men" ("id")
, CONSTRAINT "fk_rails_97971b8cb0"
FOREIGN KEY ("police_unit_in_charge_id")
  REFERENCES "police_units" ("id")
, CONSTRAINT "fk_rails_8c74c14b3c"
FOREIGN KEY ("prosecutor_in_charge_id")
  REFERENCES "prosecutors" ("id")
, CONSTRAINT "fk_rails_9ce32a8a19"
FOREIGN KEY ("local_prosecution_in_charge_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_in_charge_id" ON "procedures"  ("police_in_charge_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_police_unit_in_charge_id" ON "procedures"  ("police_unit_in_charge_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_prosecutor_in_charge_id" ON "procedures"  ("prosecutor_in_charge_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_procedures_on_local_prosecution_in_charge_id" ON "procedures"  ("local_prosecution_in_charge_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221325"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePeople (20200926225000)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "people" ("id" bigserial primary key, "name" character varying, "last_name" character varying, "birthday" date, "rut" character varying, "deceased" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926225000"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAliasAccuseds (20200926230432)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "alias_accuseds" ("id" bigserial primary key, "alias" character varying, "person_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cea260112a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
)[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE  INDEX  "index_alias_accuseds_on_person_id" ON "alias_accuseds"  ("person_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230432"]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimes (20200926230841)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "crimes" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230841"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCrimeInAccuseds (20200926230928)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "crime_in_accuseds" ("id" bigserial primary key, "preponderant" boolean, "crime_id" bigint NOT NULL, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e9f93f7522"
FOREIGN KEY ("crime_id")
  REFERENCES "crimes" ("id")
, CONSTRAINT "fk_rails_b5a506532a"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_39897d71a6"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_crime_id" ON "crime_in_accuseds"  ("crime_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_person_id" ON "crime_in_accuseds"  ("person_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_crime_in_accuseds_on_procedure_id" ON "crime_in_accuseds"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926230928"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePersonInProcedures (20200927001751)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "person_in_procedures" ("id" bigserial primary key, "person_id" bigint NOT NULL, "procedure_id" bigint NOT NULL, "role" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ef243c3ec5"
FOREIGN KEY ("person_id")
  REFERENCES "people" ("id")
, CONSTRAINT "fk_rails_7206b5a771"
FOREIGN KEY ("procedure_id")
  REFERENCES "procedures" ("id")
)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_person_id" ON "person_in_procedures"  ("person_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_person_in_procedures_on_procedure_id" ON "person_in_procedures"  ("procedure_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200927001751"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE DATABASE "atenas_development" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "atenas_test" ENCODING = 'unicode'[0m
  [1m[35m (6.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (5.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProsecutors (20200926221323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.9ms)[0m  [1m[35mCREATE TABLE "prosecutors" ("id" bigserial primary key, "name" character varying, "rut" character varying, "local_prosecutions_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3883c3b60f"
FOREIGN KEY ("local_prosecutions_id")
  REFERENCES "local_prosecutions" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_prosecutors_on_local_prosecutions_id" ON "prosecutors"  ("local_prosecutions_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221323"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePoliceMen (20200926221324)
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "police_men" ("id" bigserial primary key, "name" character varying, "rut" character varying, "badge" integer, "police_unit_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ade1fabd96"
FOREIGN KEY ("police_unit_id")
  REFERENCES "police_units" ("id")
)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE  INDEX  "index_police_men_on_police_unit_id" ON "police_men"  ("police_unit_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200926221324"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (19.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:29:52 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1160)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 90b039f8fea92e322d54
Version: webpack 4.44.2
Time: 4441ms
Built at: 10/18/2020 5:29:59 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-cad94896a69c871b30ca.js    124 KiB  application  [emitted] [immutable]  application
js/application-cad94896a69c871b30ca.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-cad94896a69c871b30ca.js js/application-cad94896a69c871b30ca.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 810 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 7178ms (Views: 7110.7ms | ActiveRecord: 8.2ms | Allocations: 29679)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:30:47 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 500)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 5147)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:30:48 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 4034)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:31:17 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 497)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 5136)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:31:18 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 4042)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:32:24 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 303)
Completed 500 Internal Server Error in 199ms (ActiveRecord: 0.0ms | Allocations: 9057)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /home/toor/Desktop/Atenas/app/assets/config
  /home/toor/Desktop/Atenas/app/assets/images
  /home/toor/Desktop/Atenas/app/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actioncable-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/activestorage-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actionview-6.0.3.3/lib/assets/compiled
  /home/toor/.rvm/gems/ruby-2.7.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/toor/Desktop/Atenas/node_modules
  /home/toor/.rvm/gems/ruby-2.7.1/gems/popper_js-1.16.0/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/javascripts):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
  
app/assets/stylesheets/application.css:15
app/views/layouts/application.html.erb:8
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:32:26 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 315)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 12973)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /home/toor/Desktop/Atenas/app/assets/config
  /home/toor/Desktop/Atenas/app/assets/images
  /home/toor/Desktop/Atenas/app/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actioncable-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/activestorage-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actionview-6.0.3.3/lib/assets/compiled
  /home/toor/.rvm/gems/ruby-2.7.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/toor/Desktop/Atenas/node_modules
  /home/toor/.rvm/gems/ruby-2.7.1/gems/popper_js-1.16.0/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/javascripts):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
  
app/assets/stylesheets/application.css:15
app/views/layouts/application.html.erb:8
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:34:32 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 499)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 7469)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /home/toor/Desktop/Atenas/app/assets/config
  /home/toor/Desktop/Atenas/app/assets/images
  /home/toor/Desktop/Atenas/app/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actioncable-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/activestorage-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actionview-6.0.3.3/lib/assets/compiled
  /home/toor/.rvm/gems/ruby-2.7.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/toor/Desktop/Atenas/node_modules
  /home/toor/.rvm/gems/ruby-2.7.1/gems/popper_js-1.16.0/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/javascripts):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:     <link href="https://getbootstrap.com/docs/4.0/examples/jumbotron/jumbotron.css" rel="stylesheet">
    11:   </head>
  
app/assets/stylesheets/application.css:15
app/views/layouts/application.html.erb:8
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:34:41 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 314)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.0ms | Allocations: 4120)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:34:44 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 303)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms | Allocations: 4021)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:34:46 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 303)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 4027)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:45:53 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 303)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 6374)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /home/toor/Desktop/Atenas/app/assets/config
  /home/toor/Desktop/Atenas/app/assets/images
  /home/toor/Desktop/Atenas/app/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/jquery-rails-4.4.0/vendor/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actioncable-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/activestorage-6.0.3.3/app/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/actionview-6.0.3.3/lib/assets/compiled
  /home/toor/.rvm/gems/ruby-2.7.1/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/toor/Desktop/Atenas/node_modules
  /home/toor/.rvm/gems/ruby-2.7.1/gems/popper_js-1.16.0/assets/javascripts
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/stylesheets
  /home/toor/.rvm/gems/ruby-2.7.1/gems/bootstrap-4.3.1/assets/javascripts):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:     <link href="https://getbootstrap.com/docs/4.0/examples/jumbotron/jumbotron.css" rel="stylesheet">
    11:   </head>
  
app/assets/stylesheets/application.css:15
app/views/layouts/application.html.erb:8
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:46:47 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 308)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 9980ms (Views: 9979.3ms | ActiveRecord: 0.0ms | Allocations: 29821)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 17:47:33 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 965)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 191ms (Views: 154.0ms | ActiveRecord: 5.1ms | Allocations: 47896)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3556230671141507205)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:25:22 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3064)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 33.0ms | ActiveRecord: 5.2ms | Allocations: 22238)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:26:40 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 22.2ms | Allocations: 3596)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.0ms | Allocations: 8689)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:35:25 -0300
Processing by ProceduresController#new as HTML
Completed 500 Internal Server Error in 332ms (ActiveRecord: 0.0ms | Allocations: 92372)


  
NameError (undefined local variable or method `get_regiones' for #<ProceduresController:0x000055ff980bb8a8>):
  
app/controllers/procedures_controller.rb:18:in `new'
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:36:36 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1771)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1536ms (Views: 1505.0ms | ActiveRecord: 5.4ms | Allocations: 18935)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:37:48 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1715)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.0ms | Allocations: 7999)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:37:49 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 6309)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:39:52 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 932)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1381ms (Views: 1379.7ms | ActiveRecord: 0.0ms | Allocations: 7499)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:40:19 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3588)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 96ms (Views: 47.1ms | ActiveRecord: 4.3ms | Allocations: 23856)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:41:28 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 941)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1919ms (Views: 1918.5ms | ActiveRecord: 0.0ms | Allocations: 7543)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:43:07 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 934)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1364ms (Views: 1363.2ms | ActiveRecord: 0.0ms | Allocations: 7501)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:43:32 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 6300)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:48:20 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered procedures/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 5478)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.0ms | Allocations: 7748)


  
ActionView::Template::Error (Webpacker can't find procedure in /home/toor/Desktop/Atenas/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-cad94896a69c871b30ca.js",
  "application.js.map": "/packs/js/application-cad94896a69c871b30ca.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-cad94896a69c871b30ca.js"
      ],
      "js.map": [
        "/packs/js/application-cad94896a69c871b30ca.js.map"
      ]
    }
  }
}
):
    1: <%= javascript_pack_tag 'procedure' %>
    2: <span>
    3:   <h1>Ingreso de procedimiento</h1>
    4: 
  
app/views/procedures/new.html.erb:1
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:52:24 -0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
[Webpacker] Compiling...
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:52:24 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

  Rendered procedures/new.html.erb within layouts/application (Duration: 2022.2ms | Allocations: 11884)
Completed 500 Internal Server Error in 2064ms (ActiveRecord: 5.5ms | Allocations: 25745)


  
ActionView::Template::Error (Webpacker can't find procedure in /home/toor/Desktop/Atenas/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-cad94896a69c871b30ca.js",
  "application.js.map": "/packs/js/application-cad94896a69c871b30ca.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-cad94896a69c871b30ca.js"
      ],
      "js.map": [
        "/packs/js/application-cad94896a69c871b30ca.js.map"
      ]
    }
  }
}
):
    1: <%= javascript_pack_tag 'procedure' %>
    2: <span>
    3:   <h1>Ingreso de procedimiento</h1>
    4: 
  
app/views/procedures/new.html.erb:1
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

  Rendered procedures/new.html.erb within layouts/application (Duration: 2744.5ms | Allocations: 367353)
Completed 500 Internal Server Error in 2752ms (ActiveRecord: 0.0ms | Allocations: 368890)


  
ActionView::Template::Error (Webpacker can't find procedure in /home/toor/Desktop/Atenas/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-cad94896a69c871b30ca.js",
  "application.js.map": "/packs/js/application-cad94896a69c871b30ca.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-cad94896a69c871b30ca.js"
      ],
      "js.map": [
        "/packs/js/application-cad94896a69c871b30ca.js.map"
      ]
    }
  }
}
):
    1: <%= javascript_pack_tag 'procedure' %>
    2: <span>
    3:   <h1>Ingreso de procedimiento</h1>
    4: 
  
app/views/procedures/new.html.erb:1
Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:55:49 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered procedures/new.html.erb within layouts/application (Duration: 184.8ms | Allocations: 7661)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 255ms (Views: 249.6ms | ActiveRecord: 0.0ms | Allocations: 16236)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:57:28 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1234)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1450ms (Views: 1448.6ms | ActiveRecord: 0.0ms | Allocations: 8700)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 18:59:32 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 939)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1580ms (Views: 1579.5ms | ActiveRecord: 0.0ms | Allocations: 7492)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:08:15 -0300
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3589)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 2087ms (Views: 2001.7ms | ActiveRecord: 10.2ms | Allocations: 24981)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:09:45 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3589)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1332ms (Views: 1292.0ms | ActiveRecord: 4.4ms | Allocations: 24973)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:09:57 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 6315)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:14:36 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1384ms (Views: 1343.2ms | ActiveRecord: 5.1ms | Allocations: 24976)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:19:56 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1476ms (Views: 1438.3ms | ActiveRecord: 4.3ms | Allocations: 25084)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:20:11 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 6317)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:26:51 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
/home/toor/Desktop/Atenas/config/webpack/environment.js:3
const { environment } = require('@rails/webpacker')
        ^

SyntaxError: Identifier 'environment' has already been declared
    at new Script (vm.js:88:7)
    at NativeCompileCache._moduleCompile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:242:18)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:186:36)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at Object.<anonymous> (/home/toor/Desktop/Atenas/config/webpack/development.js:3:21)
    at Module._compile (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:194:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (/home/toor/Desktop/Atenas/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)
    at WEBPACK_OPTIONS (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:114:13)
    at requireConfig (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:116:6)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:123:17
    at Array.forEach (<anonymous>)
    at module.exports (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/utils/convert-argv.js:121:15)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:71:45
    at Object.parse (/home/toor/Desktop/Atenas/node_modules/yargs/yargs.js:576:18)
    at /home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:49:8
    at Object.<anonymous> (/home/toor/Desktop/Atenas/node_modules/webpack-cli/bin/cli.js:366:3)
    at Module._compile (internal/modules/cjs/loader.js:1158:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)
    at Module.load (internal/modules/cjs/loader.js:1002:32)
    at Function.Module._load (internal/modules/cjs/loader.js:901:14)
    at Module.require (internal/modules/cjs/loader.js:1044:19)
    at require (internal/modules/cjs/helpers.js:77:18)

Completed 200 OK in 1469ms (Views: 1424.6ms | ActiveRecord: 8.1ms | Allocations: 25084)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-18 19:36:01 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 28.4ms | ActiveRecord: 4.8ms | Allocations: 23869)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 08:56:41 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 203.1ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: cff3d299e54537ffa599
Version: webpack 4.44.2
Time: 2763ms
Built at: 10/28/2020 8:56:51 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-a3ed5204be7ed224e51a.js    126 KiB  application  [emitted] [immutable]  application
js/application-a3ed5204be7ed224e51a.js.map    141 KiB  application  [emitted] [dev]        application
     js/procedures-020031e8882a06a0f529.js   5.27 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-020031e8882a06a0f529.js.map   5.33 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-a3ed5204be7ed224e51a.js js/application-a3ed5204be7ed224e51a.js.map
Entrypoint procedures = js/procedures-020031e8882a06a0f529.js js/procedures-020031e8882a06a0f529.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 868 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.38 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 9718ms (Views: 9526.8ms | ActiveRecord: 5.5ms | Allocations: 26391)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 08:56:59 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms | Allocations: 6329)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 08:57:13 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 931)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 6303)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:00:49 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: a412a21aee5f9fed161d
Version: webpack 4.44.2
Time: 1091ms
Built at: 10/28/2020 9:00:51 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-14d95acd91262e20e81a.js    126 KiB  application  [emitted] [immutable]  application
js/application-14d95acd91262e20e81a.js.map    141 KiB  application  [emitted] [dev]        application
     js/procedures-020031e8882a06a0f529.js   5.27 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-020031e8882a06a0f529.js.map   5.33 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-14d95acd91262e20e81a.js js/application-14d95acd91262e20e81a.js.map
Entrypoint procedures = js/procedures-020031e8882a06a0f529.js js/procedures-020031e8882a06a0f529.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 910 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.38 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 2759ms (Views: 2725.7ms | ActiveRecord: 4.8ms | Allocations: 55018)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:00:52 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 6408)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:00:55 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 934)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 6376)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:07:34 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 7ba934d5a74f44ecc957
Version: webpack 4.44.2
Time: 7249ms
Built at: 10/28/2020 9:07:43 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-a8396cd52a62b2a17154.js    844 KiB  application  [emitted] [immutable]  application
js/application-a8396cd52a62b2a17154.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-e2594bce82b6212eb390.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-e2594bce82b6212eb390.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-a8396cd52a62b2a17154.js js/application-a8396cd52a62b2a17154.js.map
Entrypoint procedures = js/procedures-e2594bce82b6212eb390.js js/procedures-e2594bce82b6212eb390.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 891 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.38 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 9099ms (Views: 9061.4ms | ActiveRecord: 4.1ms | Allocations: 25267)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:15:55 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 941)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 36eee23a146f5fd76ba3
Version: webpack 4.44.2
Time: 2578ms
Built at: 10/28/2020 9:16:00 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-ac30fc4f054a5cd17093.js    844 KiB  application  [emitted] [immutable]  application
js/application-ac30fc4f054a5cd17093.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-5858f2038c246cfaccd6.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-5858f2038c246cfaccd6.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-ac30fc4f054a5cd17093.js js/application-ac30fc4f054a5cd17093.js.map
Entrypoint procedures = js/procedures-5858f2038c246cfaccd6.js js/procedures-5858f2038c246cfaccd6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 891 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.39 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 4252ms (Views: 4250.5ms | ActiveRecord: 0.0ms | Allocations: 7567)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:17:36 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 931)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: a61fc5d4a0b1620da8be
Version: webpack 4.44.2
Time: 2331ms
Built at: 10/28/2020 9:17:40 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-705d5fe11ef686ab69f7.js    844 KiB  application  [emitted] [immutable]  application
js/application-705d5fe11ef686ab69f7.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-97512398e50fd088a5b8.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-97512398e50fd088a5b8.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-705d5fe11ef686ab69f7.js js/application-705d5fe11ef686ab69f7.js.map
Entrypoint procedures = js/procedures-97512398e50fd088a5b8.js js/procedures-97512398e50fd088a5b8.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 891 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.37 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 3839ms (Views: 3838.0ms | ActiveRecord: 0.0ms | Allocations: 7551)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:19:22 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 931)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: e9758205d9115e5a5d9d
Version: webpack 4.44.2
Time: 2459ms
Built at: 10/28/2020 9:19:26 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-75811ff994b2d66ccc97.js    846 KiB  application  [emitted] [immutable]  application
js/application-75811ff994b2d66ccc97.js.map    898 KiB  application  [emitted] [dev]        application
     js/procedures-38be7f0979a73ec5493d.js   7.49 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-38be7f0979a73ec5493d.js.map   3.52 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-75811ff994b2d66ccc97.js js/application-75811ff994b2d66ccc97.js.map
Entrypoint procedures = js/procedures-38be7f0979a73ec5493d.js js/procedures-38be7f0979a73ec5493d.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 891 bytes {application} [built]
[./app/javascript/packs/procedures.js] 3.6 KiB {procedures} {application} [built] [failed] [1 error]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 111 hidden modules

ERROR in ./app/javascript/packs/procedures.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /home/toor/Desktop/Atenas/app/javascript/packs/procedures.js: Unexpected token (3:18)

  1 | $(document).ready(function(){
  2 |     //transformar la variable de ruby a un json
> 3 |     var comunas = <%= @regiones[0].to_json %>;
    |                   ^
  4 |     comunas = comunas.replace(/&quot;/g,'\"');
  5 |     console.log(comunas)
  6 |     comunas = JSON.parse(comunas);
    at Parser._raise (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:766:17)
    at Parser.raiseWithData (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:759:17)
    at Parser.raise (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:753:17)
    at Parser.unexpected (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:8966:16)
    at Parser.parseExprAtom (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10282:20)
    at Parser.parseExprSubscripts (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9844:23)
    at Parser.parseUpdate (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9824:21)
    at Parser.parseMaybeUnary (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9813:17)
    at Parser.parseExprOps (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9683:23)
    at Parser.parseMaybeConditional (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9657:23)
    at Parser.parseMaybeAssign (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9620:21)
    at /home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9586:39
    at Parser.allowInAnd (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11297:16)
    at Parser.parseMaybeAssignAllowIn (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9586:17)
    at Parser.parseVar (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12097:70)
    at Parser.parseVarStatement (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11906:10)
    at Parser.parseStatementContent (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11498:21)
    at Parser.parseStatement (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11431:17)
    at Parser.parseBlockOrModuleBlockBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12013:25)
    at Parser.parseBlockBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11999:10)
    at Parser.parseBlock (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11983:10)
    at Parser.parseFunctionBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10963:24)
    at Parser.parseFunctionBodyAndFinish (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10946:10)
    at /home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12153:12
    at Parser.withTopicForbiddingContext (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11272:14)
    at Parser.parseFunction (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12152:10)
    at Parser.parseFunctionOrFunctionSent (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10377:17)
    at Parser.parseExprAtom (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10202:21)
    at Parser.parseExprSubscripts (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9844:23)
    at Parser.parseUpdate (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9824:21)

Completed 200 OK in 4152ms (Views: 4151.4ms | ActiveRecord: 0.0ms | Allocations: 7469)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:22:13 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 933)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: cba79afb62ea5a25e7a5
Version: webpack 4.44.2
Time: 2371ms
Built at: 10/28/2020 9:22:17 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-9dbd8f147d0bcfb5b413.js    847 KiB  application  [emitted] [immutable]  application
js/application-9dbd8f147d0bcfb5b413.js.map    898 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-9dbd8f147d0bcfb5b413.js js/application-9dbd8f147d0bcfb5b413.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 898 bytes {application} [built]
[./app/javascript/packs/procedures.js.erb] 3.6 KiB {application} [built] [failed] [1 error]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 111 hidden modules

ERROR in ./app/javascript/packs/procedures.js.erb
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /home/toor/Desktop/Atenas/app/javascript/packs/procedures.js.erb: Unexpected token (3:18)

  1 | $(document).ready(function(){
  2 |     //transformar la variable de ruby a un json
> 3 |     var comunas = <%= @regiones[0].to_json %>;
    |                   ^
  4 |     comunas = comunas.replace(/&quot;/g,'\"');
  5 |     console.log(comunas)
  6 |     comunas = JSON.parse(comunas);
    at Parser._raise (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:766:17)
    at Parser.raiseWithData (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:759:17)
    at Parser.raise (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:753:17)
    at Parser.unexpected (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:8966:16)
    at Parser.parseExprAtom (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10282:20)
    at Parser.parseExprSubscripts (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9844:23)
    at Parser.parseUpdate (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9824:21)
    at Parser.parseMaybeUnary (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9813:17)
    at Parser.parseExprOps (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9683:23)
    at Parser.parseMaybeConditional (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9657:23)
    at Parser.parseMaybeAssign (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9620:21)
    at /home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9586:39
    at Parser.allowInAnd (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11297:16)
    at Parser.parseMaybeAssignAllowIn (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9586:17)
    at Parser.parseVar (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12097:70)
    at Parser.parseVarStatement (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11906:10)
    at Parser.parseStatementContent (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11498:21)
    at Parser.parseStatement (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11431:17)
    at Parser.parseBlockOrModuleBlockBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12013:25)
    at Parser.parseBlockBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11999:10)
    at Parser.parseBlock (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11983:10)
    at Parser.parseFunctionBody (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10963:24)
    at Parser.parseFunctionBodyAndFinish (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10946:10)
    at /home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12153:12
    at Parser.withTopicForbiddingContext (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:11272:14)
    at Parser.parseFunction (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:12152:10)
    at Parser.parseFunctionOrFunctionSent (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10377:17)
    at Parser.parseExprAtom (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:10202:21)
    at Parser.parseExprSubscripts (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9844:23)
    at Parser.parseUpdate (/home/toor/Desktop/Atenas/node_modules/@babel/parser/lib/index.js:9824:21)
 @ ./app/javascript/packs/application.js 13:0-30

Completed 200 OK in 3784ms (Views: 3779.9ms | ActiveRecord: 0.0ms | Allocations: 7429)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:22:43 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 6347)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:23:20 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 20.8ms | ActiveRecord: 4.1ms | Allocations: 24008)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:26:04 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 6358)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:27:28 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 933)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms | Allocations: 6357)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:28:05 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 3e3af4ab64dc49c50929
Version: webpack 4.44.2
Time: 2538ms
Built at: 10/28/2020 9:28:09 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-ea56d1f54dc92db41e4e.js    844 KiB  application  [emitted] [immutable]  application
js/application-ea56d1f54dc92db41e4e.js.map    900 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-ea56d1f54dc92db41e4e.js js/application-ea56d1f54dc92db41e4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 866 bytes {application} [built]
[./app/javascript/packs/procedures.js.erb] 1.39 KiB {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 111 hidden modules

Completed 200 OK in 3927ms (Views: 3887.7ms | ActiveRecord: 5.2ms | Allocations: 25206)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:28:40 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 6370)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:28:58 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 20.5ms | ActiveRecord: 4.3ms | Allocations: 24008)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:29:33 -0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3591)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 22.5ms | ActiveRecord: 4.1ms | Allocations: 24021)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:30:44 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 43.9ms | ActiveRecord: 9.1ms | Allocations: 24010)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:33:28 -0300
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 45.5ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 387ms (Views: 132.3ms | ActiveRecord: 15.5ms | Allocations: 24014)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:35:02 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 26.5ms | ActiveRecord: 4.2ms | Allocations: 24004)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:35:05 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms | Allocations: 6376)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:46:20 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3591)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 25.5ms | ActiveRecord: 12.2ms | Allocations: 24007)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:47:31 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 941)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 214c8844fa4b880901d3
Version: webpack 4.44.2
Time: 3539ms
Built at: 10/28/2020 9:47:37 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-990f2effb6ce9126ebcc.js    844 KiB  application  [emitted] [immutable]  application
js/application-990f2effb6ce9126ebcc.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-934790593749657312b4.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-934790593749657312b4.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-990f2effb6ce9126ebcc.js js/application-990f2effb6ce9126ebcc.js.map
Entrypoint procedures = js/procedures-934790593749657312b4.js js/procedures-934790593749657312b4.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 862 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.35 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 6079ms (Views: 6077.9ms | ActiveRecord: 0.0ms | Allocations: 7609)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:48:29 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3591)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: d7de0cc50e8d63e07948
Version: webpack 4.44.2
Time: 2449ms
Built at: 10/28/2020 9:48:33 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-b0607dfcb8ced2136954.js    844 KiB  application  [emitted] [immutable]  application
js/application-b0607dfcb8ced2136954.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-a033e4bb6ca0dec5a2fc.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-a033e4bb6ca0dec5a2fc.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-b0607dfcb8ced2136954.js js/application-b0607dfcb8ced2136954.js.map
Entrypoint procedures = js/procedures-a033e4bb6ca0dec5a2fc.js js/procedures-a033e4bb6ca0dec5a2fc.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 862 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.35 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 3872ms (Views: 3834.6ms | ActiveRecord: 4.1ms | Allocations: 25250)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:52:21 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 938)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 52ef772de9f88150e540
Version: webpack 4.44.2
Time: 2414ms
Built at: 10/28/2020 9:52:25 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d1776189885f34988d7a.js    844 KiB  application  [emitted] [immutable]  application
js/application-d1776189885f34988d7a.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-66cab22781d3792d49c2.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-66cab22781d3792d49c2.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-d1776189885f34988d7a.js js/application-d1776189885f34988d7a.js.map
Entrypoint procedures = js/procedures-66cab22781d3792d49c2.js js/procedures-66cab22781d3792d49c2.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 862 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.37 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 3780ms (Views: 3779.1ms | ActiveRecord: 0.0ms | Allocations: 7544)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:53:54 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 934)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: d35143add190e2843f17
Version: webpack 4.44.2
Time: 2423ms
Built at: 10/28/2020 9:53:58 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e972cbafac75f883536a.js    844 KiB  application  [emitted] [immutable]  application
js/application-e972cbafac75f883536a.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-b3df2eef81a04dd45add.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-b3df2eef81a04dd45add.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-e972cbafac75f883536a.js js/application-e972cbafac75f883536a.js.map
Entrypoint procedures = js/procedures-b3df2eef81a04dd45add.js js/procedures-b3df2eef81a04dd45add.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 862 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.39 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 3806ms (Views: 3805.2ms | ActiveRecord: 0.0ms | Allocations: 7550)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 09:58:35 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 20.1ms | Allocations: 933)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: 32e254879111d66a6067
Version: webpack 4.44.2
Time: 2264ms
Built at: 10/28/2020 9:58:38 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-4b5da7ca816c2c1a549a.js    844 KiB  application  [emitted] [immutable]  application
js/application-4b5da7ca816c2c1a549a.js.map    900 KiB  application  [emitted] [dev]        application
     js/procedures-697b16558e160b39c993.js    725 KiB   procedures  [emitted] [immutable]  procedures
 js/procedures-697b16558e160b39c993.js.map    765 KiB   procedures  [emitted] [dev]        procedures
                             manifest.json  696 bytes               [emitted]              
Entrypoint application = js/application-4b5da7ca816c2c1a549a.js js/application-4b5da7ca816c2c1a549a.js.map
Entrypoint procedures = js/procedures-697b16558e160b39c993.js js/procedures-697b16558e160b39c993.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 862 bytes {application} [built]
[./app/javascript/packs/procedures.js] 1.36 KiB {procedures} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} {procedures} [built]
    + 111 hidden modules

Completed 200 OK in 3648ms (Views: 3646.7ms | ActiveRecord: 0.0ms | Allocations: 7565)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 10:00:06 -0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3590)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/toor/Desktop/Atenas/public/packs
[Webpacker] Hash: c84ba95adc143f2723c0
Version: webpack 4.44.2
Time: 2267ms
Built at: 10/28/2020 10:00:10 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-8a71822aae8030436cd1.js    844 KiB  application  [emitted] [immutable]  application
js/application-8a71822aae8030436cd1.js.map    900 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-8a71822aae8030436cd1.js js/application-8a71822aae8030436cd1.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 866 bytes {application} [built]
[./app/javascript/packs/procedures.js.erb] 1.37 KiB {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 111 hidden modules

Completed 200 OK in 3925ms (Views: 3887.1ms | ActiveRecord: 4.7ms | Allocations: 25201)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 10:00:43 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 6356)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 10:00:59 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 30.8ms | ActiveRecord: 4.9ms | Allocations: 24020)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 10:01:28 -0300
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 6362)


Started GET "/procedures/new" for 127.0.0.1 at 2020-10-28 10:02:01 -0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProceduresController#new as HTML
  Rendering procedures/new.html.erb within layouts/application
  Rendered procedures/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3590)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 110ms (Views: 45.1ms | ActiveRecord: 7.2ms | Allocations: 24000)


